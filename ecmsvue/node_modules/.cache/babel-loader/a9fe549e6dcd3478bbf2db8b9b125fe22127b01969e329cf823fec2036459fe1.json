{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  key: 0\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[7] || (_cache[7] = _createElementVNode(\"h1\", null, \"商品管理\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $data.showAddProductForm = true)\n  }, \"添加商品\"), $data.showAddProductForm ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"添加商品\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.newProduct.productName = $event),\n    placeholder: \"商品名称\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.productName]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.newProduct.price = $event),\n    type: \"number\",\n    placeholder: \"价格\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.price]]), _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.newProduct.stockQuantity = $event),\n    type: \"number\",\n    placeholder: \"库存数量\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.newProduct.stockQuantity]]), _createElementVNode(\"button\", {\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.addProduct && $options.addProduct(...args))\n  }, \"提交\"), _createElementVNode(\"button\", {\n    onClick: _cache[5] || (_cache[5] = $event => $data.showAddProductForm = false)\n  }, \"取消\")])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: product.productId\n    }, [_createTextVNode(_toDisplayString(product.productName) + \" - \" + _toDisplayString(product.price) + \" - \" + _toDisplayString(product.stockQuantity) + \" \", 1 /* TEXT */), _createElementVNode(\"button\", {\n      onClick: $event => $options.editProduct(product)\n    }, \"编辑\", 8 /* PROPS */, _hoisted_2), _createElementVNode(\"button\", {\n      onClick: $event => $options.deleteProduct(product.productId)\n    }, \"删除\", 8 /* PROPS */, _hoisted_3)]);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["key","_createElementBlock","_createElementVNode","onClick","_cache","$event","$data","showAddProductForm","_hoisted_1","newProduct","productName","placeholder","price","type","stockQuantity","args","$options","addProduct","_createCommentVNode","_Fragment","_renderList","products","product","productId","_createTextVNode","_toDisplayString","editProduct","_hoisted_2","deleteProduct","_hoisted_3"],"sources":["E:\\ecms\\ecmsvue\\src\\components\\ProductList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>商品管理</h1>\r\n    <button @click=\"showAddProductForm = true\">添加商品</button>\r\n\r\n    <div v-if=\"showAddProductForm\">\r\n      <h2>添加商品</h2>\r\n      <input v-model=\"newProduct.productName\" placeholder=\"商品名称\" />\r\n      <input v-model=\"newProduct.price\" type=\"number\" placeholder=\"价格\" />\r\n      <input v-model=\"newProduct.stockQuantity\" type=\"number\" placeholder=\"库存数量\" />\r\n      <button @click=\"addProduct\">提交</button>\r\n      <button @click=\"showAddProductForm = false\">取消</button>\r\n    </div>\r\n\r\n    <ul>\r\n      <li v-for=\"product in products\" :key=\"product.productId\">\r\n        {{ product.productName }} - {{ product.price }} - {{ product.stockQuantity }}\r\n        <button @click=\"editProduct(product)\">编辑</button>\r\n        <button @click=\"deleteProduct(product.productId)\">删除</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      showAddProductForm: false,\r\n      newProduct: {\r\n        productName: '',\r\n        price: 0,\r\n        stockQuantity: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    fetchProducts() {\r\n      axios.get('/api/merchant/products', { params: { merchantId: 1 } }) // 假设商家ID为1\r\n          .then(response => {\r\n            this.products = response.data;\r\n          });\r\n    },\r\n    addProduct() {\r\n      axios.post('/api/merchant/products', this.newProduct)\r\n          .then(() => {\r\n            this.fetchProducts();\r\n            this.showAddProductForm = false;\r\n            this.newProduct = { productName: '', price: 0, stockQuantity: 0 };\r\n          });\r\n    },\r\n    deleteProduct(productId) {\r\n      axios.delete(`/api/merchant/products/${productId}`)\r\n          .then(() => {\r\n            this.fetchProducts();\r\n          });\r\n    },\r\n    editProduct(product) {\r\n      // 这里可以实现编辑功能，类似于添加功能\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchProducts();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 添加样式 */\r\n</style>\r\n"],"mappings":";;EAAAA,GAAA;AAAA;mBAAA;mBAAA;;uBACEC,mBAAA,CAoBM,c,0BAnBJC,mBAAA,CAAa,YAAT,MAAI,sBACRA,mBAAA,CAAwD;IAA/CC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAC,kBAAkB;KAAS,MAAI,GAEpCD,KAAA,CAAAC,kBAAkB,I,cAA7BN,mBAAA,CAOM,OAZVO,UAAA,G,0BAMMN,mBAAA,CAAa,YAAT,MAAI,sB,gBACRA,mBAAA,CAA6D;IAPnE,uBAAAE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAOsBC,KAAA,CAAAG,UAAU,CAACC,WAAW,GAAAL,MAAA;IAAEM,WAAW,EAAC;iDAApCL,KAAA,CAAAG,UAAU,CAACC,WAAW,E,mBACtCR,mBAAA,CAAmE;IARzE,uBAAAE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQsBC,KAAA,CAAAG,UAAU,CAACG,KAAK,GAAAP,MAAA;IAAEQ,IAAI,EAAC,QAAQ;IAACF,WAAW,EAAC;iDAA5CL,KAAA,CAAAG,UAAU,CAACG,KAAK,E,mBAChCV,mBAAA,CAA6E;IATnF,uBAAAE,MAAA,QAAAA,MAAA,MAAAC,MAAA,IASsBC,KAAA,CAAAG,UAAU,CAACK,aAAa,GAAAT,MAAA;IAAEQ,IAAI,EAAC,QAAQ;IAACF,WAAW,EAAC;iDAApDL,KAAA,CAAAG,UAAU,CAACK,aAAa,E,GACxCZ,mBAAA,CAAuC;IAA9BC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAW,IAAA,KAAEC,QAAA,CAAAC,UAAA,IAAAD,QAAA,CAAAC,UAAA,IAAAF,IAAA,CAAU;KAAE,IAAE,GAC9Bb,mBAAA,CAAuD;IAA9CC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,KAAA,CAAAC,kBAAkB;KAAU,IAAE,E,KAXpDW,mBAAA,gBAcIhB,mBAAA,CAMK,c,kBALHD,mBAAA,CAIKkB,SAAA,QAnBXC,WAAA,CAe4Bd,KAAA,CAAAe,QAAQ,EAAnBC,OAAO;yBAAlBrB,mBAAA,CAIK;MAJ4BD,GAAG,EAAEsB,OAAO,CAACC;QAfpDC,gBAAA,CAAAC,gBAAA,CAgBWH,OAAO,CAACZ,WAAW,IAAG,KAAG,GAAAe,gBAAA,CAAGH,OAAO,CAACV,KAAK,IAAG,KAAG,GAAAa,gBAAA,CAAGH,OAAO,CAACR,aAAa,IAAG,GAC7E,iBAAAZ,mBAAA,CAAiD;MAAxCC,OAAK,EAAAE,MAAA,IAAEW,QAAA,CAAAU,WAAW,CAACJ,OAAO;OAAG,IAAE,iBAjBhDK,UAAA,GAkBQzB,mBAAA,CAA6D;MAApDC,OAAK,EAAAE,MAAA,IAAEW,QAAA,CAAAY,aAAa,CAACN,OAAO,CAACC,SAAS;OAAG,IAAE,iBAlB5DM,UAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}