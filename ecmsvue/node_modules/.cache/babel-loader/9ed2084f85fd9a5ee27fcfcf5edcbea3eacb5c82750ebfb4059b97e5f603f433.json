{"ast":null,"code":"import { resolveDynamicComponent as _resolveDynamicComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home-container\"\n};\nconst _hoisted_2 = {\n  ref: \"title\",\n  class: \"title\"\n};\nconst _hoisted_3 = {\n  class: \"notice-list\"\n};\nconst _hoisted_4 = {\n  ref: \"notice1\"\n};\nconst _hoisted_5 = {\n  ref: \"notice2\"\n};\nconst _hoisted_6 = {\n  ref: \"notice3\"\n};\nconst _hoisted_7 = {\n  ref: \"userInfo\",\n  class: \"user-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  return _openBlock(), _createElementBlock(\"div\", null, [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.navbarComponent))), _createCommentVNode(\" Ê†πÊçÆÁî®Êà∑ËßíËâ≤Âä®ÊÄÅÂä†ËΩΩÂØºËà™Ê†è \"), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"h1\", _hoisted_2, \"Ê¨¢ËøéÊù•Âà∞È¶ñÈ°µ!\", 512 /* NEED_PATCH */), _createElementVNode(\"p\", {\n    ref: \"welcomeMsg\",\n    class: \"welcome-msg\"\n  }, \" Ê¨¢ËøéÂõûÊù•Ôºå\" + _toDisplayString($setup.currentUser?.username || 'Áî®Êà∑') + \"ÔºÅ \", 513 /* TEXT, NEED_PATCH */), _createElementVNode(\"p\", {\n    ref: \"timeMsg\",\n    class: \"time-msg\"\n  }, \"ÂΩìÂâçÊó∂Èó¥Ôºö\" + _toDisplayString($setup.currentTime), 513 /* TEXT, NEED_PATCH */), _createCommentVNode(\" ÂÖ¨ÂëäÊ†è \"), _createVNode(_component_el_card, {\n    ref: \"noticeBoard\",\n    class: \"notice-board\",\n    shadow: \"hover\"\n  }, {\n    default: _withCtx(() => [_cache[0] || (_cache[0] = _createElementVNode(\"h3\", null, \"üì¢ Á≥ªÁªüÂÖ¨Âëä\", -1 /* HOISTED */)), _createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", _hoisted_4, \"üõ† Á≥ªÁªüÁª¥Êä§Êó∂Èó¥ÔºöÊØèÂë®Êó•ÂáåÊô® 2:00 - 4:00\", 512 /* NEED_PATCH */), _createElementVNode(\"li\", _hoisted_5, \"üìä Êï∞ÊçÆÂ∞ÜÂú®ÊØèÂ§©Êôö‰∏äËá™Âä®Â§á‰ªΩ\", 512 /* NEED_PATCH */), _createElementVNode(\"li\", _hoisted_6, \"üìå Â¶ÇÈÅáÈ°µÈù¢ÈóÆÈ¢òÔºåËØ∑Âà∑Êñ∞ÊàñÈáçÊñ∞ÁôªÂΩï\", 512 /* NEED_PATCH */)])]),\n    _: 1 /* STABLE */\n  }, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_7, [$setup.currentUser ? (_openBlock(), _createBlock(_component_el_tag, {\n    key: 0,\n    type: \"success\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" ‰Ω†Â•ΩÔºå‰Ω†ÁöÑ\" + _toDisplayString($setup.currentUser.role) + \"ID‰∏∫: \" + _toDisplayString($setup.currentUser.id), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  })) : (_openBlock(), _createBlock(_component_el_tag, {\n    key: 1,\n    type: \"info\"\n  }, {\n    default: _withCtx(() => _cache[1] || (_cache[1] = [_createTextVNode(\" Êú™ÁôªÂΩï \")])),\n    _: 1 /* STABLE */\n  }))], 512 /* NEED_PATCH */)])]);\n}","map":{"version":3,"names":["class","ref","_createElementBlock","_createBlock","_resolveDynamicComponent","$setup","navbarComponent","_createCommentVNode","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","currentUser","username","currentTime","_createVNode","_component_el_card","shadow","default","_withCtx","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_","_hoisted_7","_component_el_tag","key","type","_createTextVNode","role","id","_cache"],"sources":["D:\\code_new\\ecms\\ecmsvue\\src\\components\\AdminNavbar.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <component :is=\"navbarComponent\" /> <!-- Ê†πÊçÆÁî®Êà∑ËßíËâ≤Âä®ÊÄÅÂä†ËΩΩÂØºËà™Ê†è -->\r\n    <div class=\"home-container\">\r\n      <h1 ref=\"title\" class=\"title\">Ê¨¢ËøéÊù•Âà∞È¶ñÈ°µ!</h1>\r\n      <p ref=\"welcomeMsg\" class=\"welcome-msg\">\r\n        Ê¨¢ËøéÂõûÊù•Ôºå{{ currentUser?.username || 'Áî®Êà∑' }}ÔºÅ\r\n      </p>\r\n      <p ref=\"timeMsg\" class=\"time-msg\">ÂΩìÂâçÊó∂Èó¥Ôºö{{ currentTime }}</p>\r\n\r\n      <!-- ÂÖ¨ÂëäÊ†è -->\r\n      <el-card ref=\"noticeBoard\" class=\"notice-board\" shadow=\"hover\">\r\n        <h3>üì¢ Á≥ªÁªüÂÖ¨Âëä</h3>\r\n        <ul class=\"notice-list\">\r\n          <li ref=\"notice1\">üõ† Á≥ªÁªüÁª¥Êä§Êó∂Èó¥ÔºöÊØèÂë®Êó•ÂáåÊô® 2:00 - 4:00</li>\r\n          <li ref=\"notice2\">üìä Êï∞ÊçÆÂ∞ÜÂú®ÊØèÂ§©Êôö‰∏äËá™Âä®Â§á‰ªΩ</li>\r\n          <li ref=\"notice3\">üìå Â¶ÇÈÅáÈ°µÈù¢ÈóÆÈ¢òÔºåËØ∑Âà∑Êñ∞ÊàñÈáçÊñ∞ÁôªÂΩï</li>\r\n        </ul>\r\n      </el-card>\r\n\r\n      <div ref=\"userInfo\" class=\"user-info\">\r\n        <el-tag type=\"success\" v-if=\"currentUser\">\r\n          ‰Ω†Â•ΩÔºå‰Ω†ÁöÑ{{ currentUser.role }}ID‰∏∫: {{ currentUser.id }}\r\n        </el-tag>\r\n        <el-tag type=\"info\" v-else>\r\n          Êú™ÁôªÂΩï\r\n        </el-tag>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted, computed, nextTick } from 'vue';\r\nimport AppMerchantNavbar from '../components/MerchantNavbar.vue';\r\nimport AppAdminNavbar from '../components/AdminNavbar.vue';\r\nimport gsap from 'gsap';\r\n\r\nexport default {\r\n  name: 'HomePage',\r\n  components: {\r\n    AppMerchantNavbar,\r\n    AppAdminNavbar\r\n  },\r\n  setup() {\r\n    // ÂÆö‰πâÂºïÁî®\r\n    const title = ref(null);\r\n    const welcomeMsg = ref(null);\r\n    const timeMsg = ref(null);\r\n    const noticeBoard = ref(null);\r\n    const userInfo = ref(null);\r\n    const notice1 = ref(null);\r\n    const notice2 = ref(null);\r\n    const notice3 = ref(null);\r\n\r\n    const currentUser = ref(null);\r\n    const currentTime = ref('');\r\n\r\n    // Ê£ÄÊü•ÊòØÂê¶È¶ñÊ¨°ËÆøÈóÆ\r\n    const checkFirstVisit = () => {\r\n      const visited = sessionStorage.getItem('homeVisited');\r\n      if (!visited) {\r\n        sessionStorage.setItem('homeVisited', 'true');\r\n        return true;\r\n      }\r\n      return false;\r\n    };\r\n\r\n    // Ëé∑ÂèñÂΩìÂâçÁî®Êà∑‰ø°ÊÅØ\r\n    const getCurrentUser = () => {\r\n      // ‰ªé localStorage Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ\r\n      const userData = localStorage.getItem('user');\r\n      if (userData) {\r\n        try {\r\n          const parsedUserData = JSON.parse(userData);\r\n          if (parsedUserData.success) {\r\n            currentUser.value = {\r\n              role: parsedUserData.role,\r\n              id: parsedUserData.userid, // ‰ΩøÁî® userid ‰Ωú‰∏∫ id\r\n              token: parsedUserData.token,\r\n              username: parsedUserData.username\r\n            };\r\n          } else {\r\n            console.error('Áî®Êà∑‰ø°ÊÅØ‰∏çÊ≠£Á°Æ:', parsedUserData);\r\n          }\r\n        } catch (e) {\r\n          console.error('Ëß£ÊûêÁî®Êà∑‰ø°ÊÅØÂ§±Ë¥•:', e);\r\n        }\r\n      }\r\n    };\r\n\r\n    // Êõ¥Êñ∞Êó∂Èó¥\r\n    const updateTime = () => {\r\n      const now = new Date();\r\n      currentTime.value = now.toLocaleString();\r\n    };\r\n\r\n    // ÊâßË°åÂÖ•Âú∫Âä®Áîª\r\n    const playEntranceAnimation = () => {\r\n      try {\r\n        // ÂàõÂª∫Ë¶ÅÂä®ÁîªÁöÑÂÖÉÁ¥†Êï∞ÁªÑÔºåËøáÊª§Êéâ‰∏çÂ≠òÂú®ÁöÑÂÖÉÁ¥†\r\n        const elements = [\r\n          title.value,\r\n          welcomeMsg.value,\r\n          timeMsg.value,\r\n          noticeBoard.value,\r\n          userInfo.value\r\n        ].filter(el => el !== null && el !== undefined);\r\n\r\n        // ÂàõÂª∫ÂÖ¨ÂëäÈ°πÂÖÉÁ¥†Êï∞ÁªÑÔºåËøáÊª§Êéâ‰∏çÂ≠òÂú®ÁöÑÂÖÉÁ¥†\r\n        const noticeItems = [\r\n          notice1.value,\r\n          notice2.value,\r\n          notice3.value\r\n        ].filter(el => el !== null && el !== undefined);\r\n\r\n        // Âè™ÊúâÂú®ÊúâÂÖÉÁ¥†Â≠òÂú®ÁöÑÊÉÖÂÜµ‰∏ãÊâçËÆæÁΩÆÂàùÂßãÁä∂ÊÄÅ\r\n        if (elements.length > 0) {\r\n          gsap.set(elements, { opacity: 0 });\r\n        }\r\n\r\n        // ‰∏∫ÂêÑ‰∏™Â≠òÂú®ÁöÑÂÖÉÁ¥†ÂçïÁã¨ËÆæÁΩÆÂàùÂßãÁä∂ÊÄÅ\r\n        if (title.value) gsap.set(title.value, { y: -50 });\r\n        if (welcomeMsg.value) gsap.set(welcomeMsg.value, { x: -50 });\r\n        if (timeMsg.value) gsap.set(timeMsg.value, { x: 50 });\r\n        if (noticeBoard.value) gsap.set(noticeBoard.value, { scale: 0.8 });\r\n        if (userInfo.value) gsap.set(userInfo.value, { y: -30 });\r\n\r\n        if (noticeItems.length > 0) {\r\n          gsap.set(noticeItems, { x: 20, opacity: 0 });\r\n        }\r\n\r\n        // ÂàõÂª∫Âä®ÁîªÊó∂Èó¥Á∫ø\r\n        const tl = gsap.timeline();\r\n\r\n        // Ê∑ªÂä†Âä®ÁîªÂ∫èÂàóÔºåÂè™ÂØπÂ≠òÂú®ÁöÑÂÖÉÁ¥†ËøõË°åÂä®Áîª\r\n        if (title.value) {\r\n          tl.to(title.value, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.8,\r\n            ease: \"power3.out\"\r\n          });\r\n        }\r\n\r\n        if (welcomeMsg.value) {\r\n          tl.to(welcomeMsg.value, {\r\n            opacity: 1,\r\n            x: 0,\r\n            duration: 0.6,\r\n            ease: \"power2.out\"\r\n          }, \"-=0.3\");\r\n        }\r\n\r\n        if (timeMsg.value) {\r\n          tl.to(timeMsg.value, {\r\n            opacity: 1,\r\n            x: 0,\r\n            duration: 0.6,\r\n            ease: \"power2.out\"\r\n          }, \"-=0.4\");\r\n        }\r\n\r\n        if (userInfo.value) {\r\n          tl.to(userInfo.value, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.5,\r\n            ease: \"back.out(1.7)\"\r\n          }, \"-=0.5\");\r\n        }\r\n\r\n        if (noticeBoard.value) {\r\n          tl.to(noticeBoard.value, {\r\n            opacity: 1,\r\n            scale: 1,\r\n            duration: 0.8,\r\n            ease: \"back.out(1.2)\"\r\n          }, \"-=0.3\");\r\n        }\r\n\r\n        if (noticeItems.length > 0) {\r\n          tl.to(noticeItems, {\r\n            opacity: 1,\r\n            x: 0,\r\n            duration: 0.5,\r\n            stagger: 0.15,\r\n            ease: \"power1.out\"\r\n          }, \"-=0.5\");\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä®ÁîªÊâßË°åÂá∫Èîô:', error);\r\n        // ÂèëÁîüÈîôËØØÊó∂ÔºåÁ°Æ‰øùÊâÄÊúâÂÖÉÁ¥†ÂèØËßÅ\r\n        makeAllElementsVisible();\r\n      }\r\n    };\r\n\r\n    // ‰ΩøÊâÄÊúâÂÖÉÁ¥†ÂèØËßÅÁöÑËæÖÂä©ÂáΩÊï∞\r\n    const makeAllElementsVisible = () => {\r\n      const allElements = [\r\n        title.value,\r\n        welcomeMsg.value,\r\n        timeMsg.value,\r\n        noticeBoard.value,\r\n        userInfo.value,\r\n        notice1.value,\r\n        notice2.value,\r\n        notice3.value\r\n      ].filter(el => el !== null && el !== undefined);\r\n\r\n      if (allElements.length > 0) {\r\n        gsap.set(allElements, { opacity: 1, x: 0, y: 0, scale: 1 });\r\n      }\r\n    };\r\n\r\n    onMounted(() => {\r\n      // Âä†ËΩΩÁî®Êà∑Êï∞ÊçÆÂíåÂºÄÂßãÊó∂Èó¥Êõ¥Êñ∞\r\n      getCurrentUser();\r\n      updateTime();\r\n      setInterval(updateTime, 1000);\r\n\r\n      // ‰ΩøÁî® nextTick Á°Æ‰øù DOM Â∑≤Êõ¥Êñ∞\r\n      nextTick(() => {\r\n        // ÂÜçÊ∑ªÂä†‰∏Ä‰∏™ setTimeout ‰ª•Á°Æ‰øù DOM ÂÆåÂÖ®Ê∏≤Êüì\r\n        setTimeout(() => {\r\n          try {\r\n            const isFirstVisit = checkFirstVisit();\r\n            if (isFirstVisit) {\r\n              playEntranceAnimation();\r\n            } else {\r\n              // ÈùûÈ¶ñÊ¨°ËÆøÈóÆÔºåÁõ¥Êé•ÊòæÁ§∫ÊâÄÊúâÂÖÉÁ¥†\r\n              makeAllElementsVisible();\r\n            }\r\n          } catch (error) {\r\n            console.error('Âä®ÁîªÂàùÂßãÂåñÈîôËØØ:', error);\r\n            makeAllElementsVisible();\r\n          }\r\n        }, 100); // Áªô‰∫àË∂≥Â§üÁöÑÊó∂Èó¥ËÆ©DOMÂÆåÂÖ®Ê∏≤Êüì\r\n      });\r\n    });\r\n\r\n    // ËÆ°ÁÆóÂΩìÂâçÂ∫îËØ•‰ΩøÁî®ÁöÑÂØºËà™Ê†èÁªÑ‰ª∂\r\n    const navbarComponent = computed(() => {\r\n      if (currentUser.value && currentUser.value.role === 'admin') {\r\n        return 'AppAdminNavbar';\r\n      }\r\n      return 'AppMerchantNavbar';\r\n    });\r\n\r\n    return {\r\n      // ËøîÂõûÊâÄÊúâÂºïÁî®ÂíåÊï∞ÊçÆ\r\n      title,\r\n      welcomeMsg,\r\n      timeMsg,\r\n      noticeBoard,\r\n      userInfo,\r\n      notice1,\r\n      notice2,\r\n      notice3,\r\n      currentUser,\r\n      currentTime,\r\n      navbarComponent\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.home-container {\r\n  position: relative;\r\n  padding: 20px;\r\n  text-align: center;\r\n}\r\n\r\n.title {\r\n  font-size: 36px;\r\n  color: #409EFF;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.welcome-msg {\r\n  font-size: 20px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.time-msg {\r\n  font-size: 16px;\r\n  color: #888;\r\n  margin-bottom: 30px;\r\n}\r\n\r\n.user-info {\r\n  position: absolute;\r\n  top: 20px;\r\n  right: 20px;\r\n}\r\n\r\n.notice-board {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  text-align: left;\r\n  padding: 20px;\r\n  border-left: 5px solid #409EFF;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n.notice-board:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.notice-list {\r\n  list-style: none;\r\n  padding-left: 0;\r\n  margin-top: 10px;\r\n}\r\n\r\n.notice-list li {\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n  color: #333;\r\n  padding: 5px 0;\r\n}\r\n\r\n/* ÂìçÂ∫îÂºè‰ºòÂåñ */\r\n@media (max-width: 768px) {\r\n  .user-info {\r\n    position: static;\r\n    margin-top: 20px;\r\n    text-align: center;\r\n  }\r\n\r\n  .notice-board {\r\n    width: 90%;\r\n  }\r\n}\r\n</style>"],"mappings":";;EAGSA,KAAK,EAAC;AAAgB;;EACrBC,GAAG,EAAC,OAAO;EAACD,KAAK,EAAC;;;EAShBA,KAAK,EAAC;AAAa;;EACjBC,GAAG,EAAC;AAAS;;EACbA,GAAG,EAAC;AAAS;;EACbA,GAAG,EAAC;AAAS;;EAIhBA,GAAG,EAAC,UAAU;EAACD,KAAK,EAAC;;;;;uBAnB9BE,mBAAA,CA6BM,e,cA5BJC,YAAA,CAAmCC,wBAFvC,CAEoBC,MAAA,CAAAC,eAAe,KAAKC,mBAAA,mBAAsB,EAC1DC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJD,mBAAA,CAA0C,MAA1CE,UAA0C,EAAZ,SAAO,yBACrCF,mBAAA,CAEI;IAFDP,GAAG,EAAC,YAAY;IAACD,KAAK,EAAC;KAAc,QACjC,GAAAW,gBAAA,CAAGN,MAAA,CAAAO,WAAW,EAAEC,QAAQ,YAAW,IAC1C,+BACAL,mBAAA,CAA4D;IAAzDP,GAAG,EAAC,SAAS;IAACD,KAAK,EAAC;KAAW,OAAK,GAAAW,gBAAA,CAAGN,MAAA,CAAAS,WAAW,gCAErDP,mBAAA,SAAY,EACZQ,YAAA,CAOUC,kBAAA;IAPDf,GAAG,EAAC,aAAa;IAACD,KAAK,EAAC,cAAc;IAACiB,MAAM,EAAC;;IAX7DC,OAAA,EAAAC,QAAA,CAYQ,MAAgB,C,0BAAhBX,mBAAA,CAAgB,YAAZ,SAAO,sBACXA,mBAAA,CAIK,MAJLY,UAIK,GAHHZ,mBAAA,CAAkD,MAAlDa,UAAkD,EAAhC,6BAA2B,yBAC7Cb,mBAAA,CAAsC,MAAtCc,UAAsC,EAApB,iBAAe,yBACjCd,mBAAA,CAAyC,MAAzCe,UAAyC,EAAvB,oBAAkB,wB;IAhB9CC,CAAA;4BAoBMhB,mBAAA,CAOM,OAPNiB,UAOM,GANyBpB,MAAA,CAAAO,WAAW,I,cAAxCT,YAAA,CAESuB,iBAAA;IAvBjBC,GAAA;IAqBgBC,IAAI,EAAC;;IArBrBV,OAAA,EAAAC,QAAA,CAqBkD,MACnC,CAtBfU,gBAAA,CAqBkD,QACnC,GAAAlB,gBAAA,CAAGN,MAAA,CAAAO,WAAW,CAACkB,IAAI,IAAG,OAAK,GAAAnB,gBAAA,CAAGN,MAAA,CAAAO,WAAW,CAACmB,EAAE,iB;IAtB3DP,CAAA;uBAwBQrB,YAAA,CAESuB,iBAAA;IA1BjBC,GAAA;IAwBgBC,IAAI,EAAC;;IAxBrBV,OAAA,EAAAC,QAAA,CAwBmC,MAE3Ba,MAAA,QAAAA,MAAA,OA1BRH,gBAAA,CAwBmC,OAE3B,E;IA1BRL,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}