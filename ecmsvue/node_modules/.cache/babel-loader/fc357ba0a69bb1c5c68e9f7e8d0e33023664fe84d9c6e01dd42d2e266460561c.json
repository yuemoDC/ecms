{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"customer-behavior\"\n};\nconst _hoisted_2 = {\n  class: \"header\"\n};\nconst _hoisted_3 = {\n  class: \"controls\"\n};\nconst _hoisted_4 = {\n  ref: \"segmentPieRef\",\n  style: {\n    \"height\": \"300px\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"table-header\"\n};\nconst _hoisted_6 = [\"innerHTML\"];\nconst _hoisted_7 = [\"innerHTML\"];\nconst _hoisted_8 = {\n  class: \"table-header\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_statistic = _resolveComponent(\"el-statistic\");\n  const _component_el_col = _resolveComponent(\"el-col\");\n  const _component_el_row = _resolveComponent(\"el-row\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 头部 \"), _createVNode(_component_el_card, {\n    class: \"header-card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_cache[4] || (_cache[4] = _createElementVNode(\"h3\", null, \"客户行为分析\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_select, {\n      modelValue: $setup.selectedMerchantId,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.selectedMerchantId = $event),\n      placeholder: \"搜索选择商家\",\n      style: {\n        \"width\": \"200px\"\n      },\n      onChange: $setup.loadData,\n      filterable: \"\",\n      remote: \"\",\n      \"remote-method\": $setup.searchMerchant,\n      loading: $setup.merchantLoading,\n      clearable: \"\"\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.merchants, merchant => {\n        return _openBlock(), _createBlock(_component_el_option, {\n          key: merchant.id,\n          label: merchant.name,\n          value: merchant.id\n        }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\", \"loading\"]), _createVNode(_component_el_button, {\n      type: \"primary\",\n      loading: $setup.loading,\n      onClick: $setup.loadData,\n      disabled: !$setup.selectedMerchantId\n    }, {\n      default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\" 分析客户 \")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\", \"disabled\"]), _createVNode(_component_el_button, {\n      type: \"success\",\n      onClick: $setup.exportReport,\n      disabled: !$setup.analysisData\n    }, {\n      default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\" 导出报告 \")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"])])])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 统计卡片 \"), $setup.analysisData ? (_openBlock(), _createBlock(_component_el_row, {\n    key: 0,\n    gutter: 20,\n    class: \"stats-row\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        shadow: \"hover\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_statistic, {\n          title: \"总客户数\",\n          value: $setup.analysisData.totalCustomers\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        shadow: \"hover\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_statistic, {\n          title: \"高价值客户贡献\",\n          value: $setup.analysisData.highValueContribution,\n          suffix: \"%\",\n          precision: 1\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        shadow: \"hover\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_statistic, {\n          title: \"平均消费额\",\n          value: $setup.avgTotalSpend,\n          prefix: \"￥\",\n          precision: 2\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 6\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, {\n        shadow: \"hover\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_statistic, {\n          title: \"平均购买频率\",\n          value: $setup.avgFrequency,\n          suffix: \"次/月\",\n          precision: 2\n        }, null, 8 /* PROPS */, [\"value\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 图表区域 \"), $setup.analysisData ? (_openBlock(), _createBlock(_component_el_row, {\n    key: 1,\n    gutter: 20\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 8\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, null, {\n        header: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"客户细分分布\")])),\n        default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, null, 512 /* NEED_PATCH */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 16\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, null, {\n        header: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"客户细分统计\")])),\n        default: _withCtx(() => [_createVNode(_component_el_table, {\n          data: $setup.segmentTableData,\n          style: {\n            \"width\": \"100%\"\n          },\n          \"show-summary\": \"\",\n          \"summary-method\": $setup.getSummaries\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_table_column, {\n            prop: \"segment\",\n            label: \"客户细分\",\n            width: \"120\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"count\",\n            label: \"客户数量\",\n            width: \"100\"\n          }), _createVNode(_component_el_table_column, {\n            prop: \"percentage\",\n            label: \"占比\",\n            width: \"100\"\n          }, {\n            default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.row.percentage.toFixed(1)) + \"% \", 1 /* TEXT */)]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"avgTotalSpend\",\n            label: \"平均消费额\"\n          }, {\n            default: _withCtx(scope => [_createTextVNode(\" ￥\" + _toDisplayString(scope.row.avgTotalSpend.toFixed(2)), 1 /* TEXT */)]),\n            _: 1 /* STABLE */\n          }), _createVNode(_component_el_table_column, {\n            prop: \"avgFrequency\",\n            label: \"平均购买频率\"\n          }, {\n            default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.row.avgFrequency.toFixed(2)) + \" 次/月 \", 1 /* TEXT */)]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"data\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 高价值客户榜单 \"), $setup.analysisData ? (_openBlock(), _createBlock(_component_el_card, {\n    key: 2,\n    class: \"mt-20\"\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, [_cache[8] || (_cache[8] = _createElementVNode(\"span\", null, \"高价值客户榜单 TOP 10\", -1 /* HOISTED */)), _createVNode(_component_el_tag, {\n      type: \"success\"\n    }, {\n      default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"高价值客户\")])),\n      _: 1 /* STABLE */\n    })])]),\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $setup.topCustomers,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        type: \"index\",\n        label: \"排名\",\n        width: \"60\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"customerId\",\n        label: \"客户ID\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"totalSpend\",\n        label: \"总消费额\",\n        width: \"150\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(\" ￥\" + _toDisplayString(scope.row.totalSpend.toFixed(2)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"orderCount\",\n        label: \"订单数\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"avgOrderValue\",\n        label: \"平均订单金额\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(\" ￥\" + _toDisplayString(scope.row.avgOrderValue.toFixed(2)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"monthlyFrequency\",\n        label: \"月购买频率\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString(scope.row.monthlyFrequency.toFixed(2)) + \" 次/月 \", 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"rfmScore\",\n        label: \"RFM分数\",\n        width: \"100\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.rfmScore), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"lastPurchase\",\n        label: \"最后购买时间\",\n        width: \"160\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($setup.formatDate(scope.row.lastPurchase)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 分析洞察与建议 \"), $setup.analysisData ? (_openBlock(), _createBlock(_component_el_row, {\n    key: 3,\n    gutter: 20,\n    class: \"mt-20\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_col, {\n      span: 12\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, null, {\n        header: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"客户行为洞察\")])),\n        default: _withCtx(() => [_createElementVNode(\"div\", {\n          class: \"insights-content\",\n          innerHTML: $setup.formatText($setup.analysisData.insights)\n        }, null, 8 /* PROPS */, _hoisted_6)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_col, {\n      span: 12\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_card, null, {\n        header: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"营销建议\")])),\n        default: _withCtx(() => [_createElementVNode(\"div\", {\n          class: \"recommendations-content\",\n          innerHTML: $setup.formatText($setup.analysisData.recommendations)\n        }, null, 8 /* PROPS */, _hoisted_7)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 客户细分详情 \"), $setup.analysisData ? (_openBlock(), _createBlock(_component_el_card, {\n    key: 4,\n    class: \"mt-20\"\n  }, {\n    header: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, [_cache[11] || (_cache[11] = _createElementVNode(\"span\", null, \"客户细分详情\", -1 /* HOISTED */)), _createVNode(_component_el_select, {\n      modelValue: $setup.selectedSegment,\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.selectedSegment = $event),\n      placeholder: \"选择客户细分\",\n      clearable: \"\",\n      style: {\n        \"width\": \"200px\"\n      }\n    }, {\n      default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.segments, segment => {\n        return _openBlock(), _createBlock(_component_el_option, {\n          key: segment,\n          label: segment,\n          value: segment\n        }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n      }), 128 /* KEYED_FRAGMENT */))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"modelValue\"])])]),\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $setup.filteredCustomers,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"max-height\": \"400\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"customerId\",\n        label: \"客户ID\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"customerSegment\",\n        label: \"客户细分\",\n        width: \"120\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: $setup.getSegmentType(scope.row.customerSegment)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.customerSegment), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"totalSpend\",\n        label: \"总消费额\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(\" ￥\" + _toDisplayString(scope.row.totalSpend.toFixed(2)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"orderCount\",\n        label: \"订单数\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"rfmScore\",\n        label: \"RFM分数\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, null, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.rfmScore), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        prop: \"lastPurchase\",\n        label: \"最后购买\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($setup.formatDate(scope.row.lastPurchase)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])]),\n    _: 1 /* STABLE */\n  })) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","ref","style","_createElementBlock","_hoisted_1","_createCommentVNode","_createVNode","_component_el_card","default","_withCtx","_createElementVNode","_hoisted_2","_hoisted_3","_component_el_select","modelValue","$setup","selectedMerchantId","_cache","$event","placeholder","onChange","loadData","filterable","remote","searchMerchant","loading","merchantLoading","clearable","_Fragment","_renderList","merchants","merchant","_createBlock","_component_el_option","key","id","label","name","value","_","_component_el_button","type","onClick","disabled","_createTextVNode","exportReport","analysisData","_component_el_row","gutter","_component_el_col","span","shadow","_component_el_statistic","title","totalCustomers","highValueContribution","suffix","precision","avgTotalSpend","prefix","avgFrequency","header","_hoisted_4","_component_el_table","data","segmentTableData","getSummaries","_component_el_table_column","prop","width","scope","_toDisplayString","row","percentage","toFixed","_hoisted_5","_component_el_tag","topCustomers","totalSpend","avgOrderValue","monthlyFrequency","rfmScore","formatDate","lastPurchase","innerHTML","formatText","insights","_hoisted_6","recommendations","_hoisted_7","_hoisted_8","selectedSegment","segments","segment","filteredCustomers","getSegmentType","customerSegment"],"sources":["E:\\shixun\\420\\ecms\\ecmsvue\\src\\views\\CustomerBehavior.vue"],"sourcesContent":["<template>\r\n  <div class=\"customer-behavior\">\r\n    <!-- 头部 -->\r\n    <el-card class=\"header-card\">\r\n      <div class=\"header\">\r\n        <h3>客户行为分析</h3>\r\n        <div class=\"controls\">\r\n          <el-select\r\n              v-model=\"selectedMerchantId\"\r\n              placeholder=\"搜索选择商家\"\r\n              style=\"width: 200px\"\r\n              @change=\"loadData\"\r\n              filterable\r\n              remote\r\n              :remote-method=\"searchMerchant\"\r\n              :loading=\"merchantLoading\"\r\n              clearable\r\n          >\r\n            <el-option\r\n                v-for=\"merchant in merchants\"\r\n                :key=\"merchant.id\"\r\n                :label=\"merchant.name\"\r\n                :value=\"merchant.id\"\r\n            />\r\n          </el-select>\r\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"loadData\" :disabled=\"!selectedMerchantId\">\r\n            分析客户\r\n          </el-button>\r\n          <el-button type=\"success\" @click=\"exportReport\" :disabled=\"!analysisData\">\r\n            导出报告\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 统计卡片 -->\r\n    <el-row :gutter=\"20\" class=\"stats-row\" v-if=\"analysisData\">\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <el-statistic title=\"总客户数\" :value=\"analysisData.totalCustomers\" />\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <el-statistic title=\"高价值客户贡献\" :value=\"analysisData.highValueContribution\" suffix=\"%\" :precision=\"1\" />\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <el-statistic title=\"平均消费额\" :value=\"avgTotalSpend\" prefix=\"￥\" :precision=\"2\" />\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\">\r\n          <el-statistic title=\"平均购买频率\" :value=\"avgFrequency\" suffix=\"次/月\" :precision=\"2\" />\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 图表区域 -->\r\n    <el-row :gutter=\"20\" v-if=\"analysisData\">\r\n      <el-col :span=\"8\">\r\n        <el-card>\r\n          <template #header>客户细分分布</template>\r\n          <div ref=\"segmentPieRef\" style=\"height: 300px\"></div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"16\">\r\n        <el-card>\r\n          <template #header>客户细分统计</template>\r\n          <el-table :data=\"segmentTableData\" style=\"width: 100%\" show-summary :summary-method=\"getSummaries\">\r\n            <el-table-column prop=\"segment\" label=\"客户细分\" width=\"120\" />\r\n            <el-table-column prop=\"count\" label=\"客户数量\" width=\"100\" />\r\n            <el-table-column prop=\"percentage\" label=\"占比\" width=\"100\">\r\n              <template #default=\"scope\">\r\n                {{ scope.row.percentage.toFixed(1) }}%\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"avgTotalSpend\" label=\"平均消费额\">\r\n              <template #default=\"scope\">\r\n                ￥{{ scope.row.avgTotalSpend.toFixed(2) }}\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"avgFrequency\" label=\"平均购买频率\">\r\n              <template #default=\"scope\">\r\n                {{ scope.row.avgFrequency.toFixed(2) }} 次/月\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 高价值客户榜单 -->\r\n    <el-card class=\"mt-20\" v-if=\"analysisData\">\r\n      <template #header>\r\n        <div class=\"table-header\">\r\n          <span>高价值客户榜单 TOP 10</span>\r\n          <el-tag type=\"success\">高价值客户</el-tag>\r\n        </div>\r\n      </template>\r\n      <el-table :data=\"topCustomers\" style=\"width: 100%\">\r\n        <el-table-column type=\"index\" label=\"排名\" width=\"60\" />\r\n        <el-table-column prop=\"customerId\" label=\"客户ID\" width=\"100\" />\r\n        <el-table-column prop=\"totalSpend\" label=\"总消费额\" width=\"150\">\r\n          <template #default=\"scope\">\r\n            ￥{{ scope.row.totalSpend.toFixed(2) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderCount\" label=\"订单数\" width=\"100\" />\r\n        <el-table-column prop=\"avgOrderValue\" label=\"平均订单金额\">\r\n          <template #default=\"scope\">\r\n            ￥{{ scope.row.avgOrderValue.toFixed(2) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"monthlyFrequency\" label=\"月购买频率\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.monthlyFrequency.toFixed(2) }} 次/月\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"rfmScore\" label=\"RFM分数\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag>{{ scope.row.rfmScore }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"lastPurchase\" label=\"最后购买时间\" width=\"160\">\r\n          <template #default=\"scope\">\r\n            {{ formatDate(scope.row.lastPurchase) }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 分析洞察与建议 -->\r\n    <el-row :gutter=\"20\" class=\"mt-20\" v-if=\"analysisData\">\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>客户行为洞察</template>\r\n          <div class=\"insights-content\" v-html=\"formatText(analysisData.insights)\"></div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>营销建议</template>\r\n          <div class=\"recommendations-content\" v-html=\"formatText(analysisData.recommendations)\"></div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 客户细分详情 -->\r\n    <el-card class=\"mt-20\" v-if=\"analysisData\">\r\n      <template #header>\r\n        <div class=\"table-header\">\r\n          <span>客户细分详情</span>\r\n          <el-select v-model=\"selectedSegment\" placeholder=\"选择客户细分\" clearable style=\"width: 200px\">\r\n            <el-option v-for=\"segment in segments\" :key=\"segment\" :label=\"segment\" :value=\"segment\" />\r\n          </el-select>\r\n        </div>\r\n      </template>\r\n      <el-table :data=\"filteredCustomers\" style=\"width: 100%\" max-height=\"400\">\r\n        <el-table-column prop=\"customerId\" label=\"客户ID\" width=\"100\" />\r\n        <el-table-column prop=\"customerSegment\" label=\"客户细分\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getSegmentType(scope.row.customerSegment)\">\r\n              {{ scope.row.customerSegment }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"totalSpend\" label=\"总消费额\">\r\n          <template #default=\"scope\">\r\n            ￥{{ scope.row.totalSpend.toFixed(2) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderCount\" label=\"订单数\" />\r\n        <el-table-column prop=\"rfmScore\" label=\"RFM分数\">\r\n          <template #default=\"scope\">\r\n            <el-tag>{{ scope.row.rfmScore }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"lastPurchase\" label=\"最后购买\">\r\n          <template #default=\"scope\">\r\n            {{ formatDate(scope.row.lastPurchase) }}\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport {ref, computed, onMounted, onUnmounted, nextTick} from 'vue'\r\nimport {ElMessage} from 'element-plus'\r\nimport * as echarts from 'echarts'\r\nimport axios from 'axios'\r\n\r\nconst selectedMerchantId = ref(null)\r\nconst loading = ref(false)\r\nconst analysisData = ref(null)\r\nconst selectedSegment = ref('')\r\nconst merchantLoading = ref(false)\r\n\r\n// 初始化空的商家列表\r\nconst merchants = ref([])\r\n\r\nconst segmentPieRef = ref(null)\r\nlet segmentPieChart = null\r\n\r\n// 搜索商家方法\r\nconst searchMerchant = async (query) => {\r\n  if (query !== '') {\r\n    merchantLoading.value = true\r\n    try {\r\n      // 调用后端API搜索商家\r\n      const response = await axios.get(`http://localhost:8080/api/merchants/search`, {\r\n        params: {keyword: query}\r\n      })\r\n      merchants.value = response.data\r\n    } catch (error) {\r\n      console.error('搜索商家失败:', error)\r\n      ElMessage.error('搜索商家失败')\r\n    } finally {\r\n      merchantLoading.value = false\r\n    }\r\n  } else {\r\n    // 如果没有输入查询词，则获取所有商家或者清空列表\r\n    loadAllMerchants()\r\n  }\r\n}\r\n\r\n// 加载所有商家\r\nconst loadAllMerchants = async () => {\r\n  merchantLoading.value = true\r\n  try {\r\n    const response = await axios.get('http://localhost:8080/api/merchants')\r\n    merchants.value = response.data\r\n  } catch (error) {\r\n    console.error('获取商家列表失败:', error)\r\n    ElMessage.error('获取商家列表失败')\r\n  } finally {\r\n    merchantLoading.value = false\r\n  }\r\n}\r\n\r\n// 加载数据\r\nconst loadData = async () => {\r\n  if (!selectedMerchantId.value) {\r\n    ElMessage.warning('请选择商家')\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get(`http://localhost:8080/api/data-analysis/customer-behavior/${selectedMerchantId.value}`)\r\n    analysisData.value = response.data\r\n    nextTick(() => {\r\n      renderSegmentPie()\r\n    })\r\n  } catch (error) {\r\n    ElMessage.error('加载数据失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 渲染客户细分饼图\r\nconst renderSegmentPie = () => {\r\n  if (!segmentPieRef.value) return\r\n\r\n  if (segmentPieChart) {\r\n    segmentPieChart.dispose()\r\n  }\r\n\r\n  segmentPieChart = echarts.init(segmentPieRef.value)\r\n\r\n  const data = Object.entries(analysisData.value.segmentStats).map(([segment, stats]) => ({\r\n    name: segment,\r\n    value: stats.count\r\n  }))\r\n\r\n  const option = {\r\n    tooltip: {\r\n      trigger: 'item',\r\n      formatter: '{b}: {c} ({d}%)'\r\n    },\r\n    legend: {\r\n      orient: 'vertical',\r\n      left: 'left'\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        radius: '65%',\r\n        center: ['50%', '50%'],\r\n        data: data,\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  segmentPieChart.setOption(option)\r\n}\r\n\r\n// 计算属性\r\nconst avgTotalSpend = computed(() => {\r\n  if (!analysisData.value?.customerAnalytics) return 0\r\n  const analytics = analysisData.value.customerAnalytics\r\n  return analytics.reduce((sum, c) => sum + c.totalSpend, 0) / analytics.length\r\n})\r\n\r\nconst avgFrequency = computed(() => {\r\n  if (!analysisData.value?.customerAnalytics) return 0\r\n  const analytics = analysisData.value.customerAnalytics\r\n  return analytics.reduce((sum, c) => sum + c.monthlyFrequency, 0) / analytics.length\r\n})\r\n\r\nconst segmentTableData = computed(() => {\r\n  if (!analysisData.value) return []\r\n  return Object.entries(analysisData.value.segmentStats).map(([segment, stats]) => {\r\n    const segmentCustomers = analysisData.value.customerAnalytics.filter(c => c.customerSegment === segment)\r\n    const avgTotalSpend = segmentCustomers.reduce((sum, c) => sum + c.totalSpend, 0) / segmentCustomers.length || 0\r\n    const avgFrequency = segmentCustomers.reduce((sum, c) => sum + c.monthlyFrequency, 0) / segmentCustomers.length || 0\r\n\r\n    return {\r\n      segment,\r\n      count: stats.count,\r\n      percentage: stats.percentage,\r\n      avgTotalSpend,\r\n      avgFrequency\r\n    }\r\n  })\r\n})\r\n\r\nconst topCustomers = computed(() => {\r\n  if (!analysisData.value) return []\r\n  return analysisData.value.customerAnalytics\r\n      .filter(c => c.customerSegment === '高价值客户')\r\n      .sort((a, b) => b.totalSpend - a.totalSpend)\r\n      .slice(0, 10)\r\n})\r\n\r\nconst segments = computed(() => {\r\n  if (!analysisData.value) return []\r\n  return Object.keys(analysisData.value.segmentStats)\r\n})\r\n\r\nconst filteredCustomers = computed(() => {\r\n  if (!analysisData.value?.customerAnalytics) return []\r\n  let customers = analysisData.value.customerAnalytics\r\n  if (selectedSegment.value) {\r\n    customers = customers.filter(c => c.customerSegment === selectedSegment.value)\r\n  }\r\n  return customers\r\n})\r\n\r\n// 方法\r\nconst getSegmentType = (segment) => {\r\n  const map = {\r\n    '高价值客户': 'success',\r\n    '忠诚客户': 'primary',\r\n    '潜力客户': 'warning',\r\n    '休眠客户': 'danger'\r\n  }\r\n  return map[segment] || ''\r\n}\r\n\r\nconst formatDate = (date) => {\r\n  if (!date) return '-'\r\n  return new Date(date).toLocaleString()\r\n}\r\n\r\nconst formatText = (text) => {\r\n  return text?.replace(/\\n/g, '<br>') || ''\r\n}\r\n\r\nconst getSummaries = (param) => {\r\n  const {columns, data} = param\r\n  const sums = []\r\n\r\n  columns.forEach((column, index) => {\r\n    if (index === 0) {\r\n      sums[index] = '总计'\r\n      return\r\n    }\r\n\r\n    const values = data.map(item => Number(item[column.property]))\r\n    if (!values.every(value => isNaN(value))) {\r\n      sums[index] = values.reduce((prev, curr) => {\r\n        const value = Number(curr)\r\n        if (!isNaN(value)) {\r\n          return prev + curr\r\n        } else {\r\n          return prev\r\n        }\r\n      }, 0)\r\n\r\n      if (column.property === 'percentage') {\r\n        sums[index] = sums[index].toFixed(1) + '%'\r\n      } else if (column.property === 'avgTotalSpend') {\r\n        sums[index] = '￥' + sums[index].toFixed(2)\r\n      } else if (column.property === 'avgFrequency') {\r\n        sums[index] = sums[index].toFixed(2) + ' 次/月'\r\n      }\r\n    } else {\r\n      sums[index] = '-'\r\n    }\r\n  })\r\n\r\n  return sums\r\n}\r\n\r\nconst exportReport = () => {\r\n  if (!analysisData.value) {\r\n    ElMessage.warning('暂无数据可导出')\r\n    return\r\n  }\r\n\r\n  // 准备导出数据\r\n  const exportData = {\r\n    merchantId: selectedMerchantId.value,\r\n    exportDate: new Date().toLocaleString(),\r\n    summary: {\r\n      totalCustomers: analysisData.value.totalCustomers,\r\n      highValueContribution: analysisData.value.highValueContribution,\r\n      avgTotalSpend: avgTotalSpend.value,\r\n      avgFrequency: avgFrequency.value\r\n    },\r\n    segmentStats: analysisData.value.segmentStats,\r\n    customerAnalytics: analysisData.value.customerAnalytics,\r\n    insights: analysisData.value.insights,\r\n    recommendations: analysisData.value.recommendations\r\n  }\r\n\r\n  // 创建下载链接\r\n  const blob = new Blob([JSON.stringify(exportData, null, 2)], {type: 'application/json'})\r\n  const url = window.URL.createObjectURL(blob)\r\n  const link = document.createElement('a')\r\n  link.href = url\r\n  link.download = `客户行为分析报告_${selectedMerchantId.value}_${new Date().toISOString().split('T')[0]}.json`\r\n  link.click()\r\n  window.URL.revokeObjectURL(url)\r\n\r\n  ElMessage.success('报告导出成功')\r\n}\r\n\r\nonMounted(() => {\r\n  // 组件挂载时加载商家列表\r\n  loadAllMerchants()\r\n\r\n  if (selectedMerchantId.value) {\r\n    loadData()\r\n  }\r\n})\r\n\r\n// 组件卸载时清理\r\nonUnmounted(() => {\r\n  if (segmentPieChart) {\r\n    segmentPieChart.dispose()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.customer-behavior {\r\n  padding: 20px;\r\n}\r\n\r\n.header-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.stats-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.insights-content,\r\n.recommendations-content {\r\n  line-height: 1.6;\r\n  white-space: pre-line;\r\n  color: #606266;\r\n  padding: 10px;\r\n}\r\n\r\n.mt-20 {\r\n  margin-top: 20px;\r\n}\r\n\r\n:deep(.el-statistic__content) {\r\n  font-size: 24px;\r\n}\r\n\r\n:deep(.el-table .cell) {\r\n  padding: 8px;\r\n}\r\n\r\n:deep(.el-table__footer-wrapper td) {\r\n  font-weight: bold;\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAmB;;EAGrBA,KAAK,EAAC;AAAQ;;EAEZA,KAAK,EAAC;AAAU;;EA0DdC,GAAG,EAAC,eAAe;EAACC,KAAqB,EAArB;IAAA;EAAA;;;EAgCtBF,KAAK,EAAC;AAAc;mBAhGjC;mBAAA;;EAwJaA,KAAK,EAAC;AAAc;;;;;;;;;;;;uBAvJ/BG,mBAAA,CAyLM,OAzLNC,UAyLM,GAxLJC,mBAAA,QAAW,EACXC,YAAA,CA8BUC,kBAAA;IA9BDP,KAAK,EAAC;EAAa;IAHhCQ,OAAA,EAAAC,QAAA,CAIM,MA4BM,CA5BNC,mBAAA,CA4BM,OA5BNC,UA4BM,G,0BA3BJD,mBAAA,CAAe,YAAX,QAAM,sBACVA,mBAAA,CAyBM,OAzBNE,UAyBM,GAxBJN,YAAA,CAiBYO,oBAAA;MAxBtBC,UAAA,EAQuBC,MAAA,CAAAC,kBAAkB;MARzC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAQuBH,MAAA,CAAAC,kBAAkB,GAAAE,MAAA;MAC3BC,WAAW,EAAC,QAAQ;MACpBjB,KAAoB,EAApB;QAAA;MAAA,CAAoB;MACnBkB,QAAM,EAAEL,MAAA,CAAAM,QAAQ;MACjBC,UAAU,EAAV,EAAU;MACVC,MAAM,EAAN,EAAM;MACL,eAAa,EAAER,MAAA,CAAAS,cAAc;MAC7BC,OAAO,EAAEV,MAAA,CAAAW,eAAe;MACzBC,SAAS,EAAT;;MAhBdnB,OAAA,EAAAC,QAAA,CAmBgB,MAA6B,E,kBADjCN,mBAAA,CAKEyB,SAAA,QAvBdC,WAAA,CAmBmCd,MAAA,CAAAe,SAAS,EAArBC,QAAQ;6BADnBC,YAAA,CAKEC,oBAAA;UAHGC,GAAG,EAAEH,QAAQ,CAACI,EAAE;UAChBC,KAAK,EAAEL,QAAQ,CAACM,IAAI;UACpBC,KAAK,EAAEP,QAAQ,CAACI;;;MAtBjCI,CAAA;kDAyBUjC,YAAA,CAEYkC,oBAAA;MAFDC,IAAI,EAAC,SAAS;MAAEhB,OAAO,EAAEV,MAAA,CAAAU,OAAO;MAAGiB,OAAK,EAAE3B,MAAA,CAAAM,QAAQ;MAAGsB,QAAQ,GAAG5B,MAAA,CAAAC;;MAzBrFR,OAAA,EAAAC,QAAA,CAyByG,MAE/FQ,MAAA,QAAAA,MAAA,OA3BV2B,gBAAA,CAyByG,QAE/F,E;MA3BVL,CAAA;gDA4BUjC,YAAA,CAEYkC,oBAAA;MAFDC,IAAI,EAAC,SAAS;MAAEC,OAAK,EAAE3B,MAAA,CAAA8B,YAAY;MAAGF,QAAQ,GAAG5B,MAAA,CAAA+B;;MA5BtEtC,OAAA,EAAAC,QAAA,CA4BoF,MAE1EQ,MAAA,QAAAA,MAAA,OA9BV2B,gBAAA,CA4BoF,QAE1E,E;MA9BVL,CAAA;;IAAAA,CAAA;MAmCIlC,mBAAA,UAAa,EACgCU,MAAA,CAAA+B,YAAY,I,cAAzDd,YAAA,CAqBSe,iBAAA;IAzDbb,GAAA;IAoCac,MAAM,EAAE,EAAE;IAAEhD,KAAK,EAAC;;IApC/BQ,OAAA,EAAAC,QAAA,CAqCM,MAIS,CAJTH,YAAA,CAIS2C,iBAAA;MAJAC,IAAI,EAAE;IAAC;MArCtB1C,OAAA,EAAAC,QAAA,CAsCQ,MAEU,CAFVH,YAAA,CAEUC,kBAAA;QAFD4C,MAAM,EAAC;MAAO;QAtC/B3C,OAAA,EAAAC,QAAA,CAuCU,MAAkE,CAAlEH,YAAA,CAAkE8C,uBAAA;UAApDC,KAAK,EAAC,MAAM;UAAEf,KAAK,EAAEvB,MAAA,CAAA+B,YAAY,CAACQ;;QAvC1Df,CAAA;;MAAAA,CAAA;QA0CMjC,YAAA,CAIS2C,iBAAA;MAJAC,IAAI,EAAE;IAAC;MA1CtB1C,OAAA,EAAAC,QAAA,CA2CQ,MAEU,CAFVH,YAAA,CAEUC,kBAAA;QAFD4C,MAAM,EAAC;MAAO;QA3C/B3C,OAAA,EAAAC,QAAA,CA4CU,MAAsG,CAAtGH,YAAA,CAAsG8C,uBAAA;UAAxFC,KAAK,EAAC,SAAS;UAAEf,KAAK,EAAEvB,MAAA,CAAA+B,YAAY,CAACS,qBAAqB;UAAEC,MAAM,EAAC,GAAG;UAAEC,SAAS,EAAE;;QA5C3GlB,CAAA;;MAAAA,CAAA;QA+CMjC,YAAA,CAIS2C,iBAAA;MAJAC,IAAI,EAAE;IAAC;MA/CtB1C,OAAA,EAAAC,QAAA,CAgDQ,MAEU,CAFVH,YAAA,CAEUC,kBAAA;QAFD4C,MAAM,EAAC;MAAO;QAhD/B3C,OAAA,EAAAC,QAAA,CAiDU,MAA+E,CAA/EH,YAAA,CAA+E8C,uBAAA;UAAjEC,KAAK,EAAC,OAAO;UAAEf,KAAK,EAAEvB,MAAA,CAAA2C,aAAa;UAAEC,MAAM,EAAC,GAAG;UAAEF,SAAS,EAAE;;QAjDpFlB,CAAA;;MAAAA,CAAA;QAoDMjC,YAAA,CAIS2C,iBAAA;MAJAC,IAAI,EAAE;IAAC;MApDtB1C,OAAA,EAAAC,QAAA,CAqDQ,MAEU,CAFVH,YAAA,CAEUC,kBAAA;QAFD4C,MAAM,EAAC;MAAO;QArD/B3C,OAAA,EAAAC,QAAA,CAsDU,MAAiF,CAAjFH,YAAA,CAAiF8C,uBAAA;UAAnEC,KAAK,EAAC,QAAQ;UAAEf,KAAK,EAAEvB,MAAA,CAAA6C,YAAY;UAAEJ,MAAM,EAAC,KAAK;UAAEC,SAAS,EAAE;;QAtDtFlB,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;QAAAlC,mBAAA,gBA2DIA,mBAAA,UAAa,EACcU,MAAA,CAAA+B,YAAY,I,cAAvCd,YAAA,CA+BSe,iBAAA;IA3Fbb,GAAA;IA4Dac,MAAM,EAAE;;IA5DrBxC,OAAA,EAAAC,QAAA,CA6DM,MAKS,CALTH,YAAA,CAKS2C,iBAAA;MALAC,IAAI,EAAE;IAAC;MA7DtB1C,OAAA,EAAAC,QAAA,CA8DQ,MAGU,CAHVH,YAAA,CAGUC,kBAAA;QAFGsD,MAAM,EAAApD,QAAA,CAAC,MAAMQ,MAAA,QAAAA,MAAA,OA/DlC2B,gBAAA,CA+D4B,QAAM,E;QA/DlCpC,OAAA,EAAAC,QAAA,CAgEU,MAAqD,CAArDC,mBAAA,CAAqD,OAArDoD,UAAqD,8B;QAhE/DvB,CAAA;;MAAAA,CAAA;QAmEMjC,YAAA,CAuBS2C,iBAAA;MAvBAC,IAAI,EAAE;IAAE;MAnEvB1C,OAAA,EAAAC,QAAA,CAoEQ,MAqBU,CArBVH,YAAA,CAqBUC,kBAAA;QApBGsD,MAAM,EAAApD,QAAA,CAAC,MAAMQ,MAAA,QAAAA,MAAA,OArElC2B,gBAAA,CAqE4B,QAAM,E;QArElCpC,OAAA,EAAAC,QAAA,CAsEU,MAkBW,CAlBXH,YAAA,CAkBWyD,mBAAA;UAlBAC,IAAI,EAAEjD,MAAA,CAAAkD,gBAAgB;UAAE/D,KAAmB,EAAnB;YAAA;UAAA,CAAmB;UAAC,cAAY,EAAZ,EAAY;UAAE,gBAAc,EAAEa,MAAA,CAAAmD;;UAtE/F1D,OAAA,EAAAC,QAAA,CAuEY,MAA2D,CAA3DH,YAAA,CAA2D6D,0BAAA;YAA1CC,IAAI,EAAC,SAAS;YAAChC,KAAK,EAAC,MAAM;YAACiC,KAAK,EAAC;cACnD/D,YAAA,CAAyD6D,0BAAA;YAAxCC,IAAI,EAAC,OAAO;YAAChC,KAAK,EAAC,MAAM;YAACiC,KAAK,EAAC;cACjD/D,YAAA,CAIkB6D,0BAAA;YAJDC,IAAI,EAAC,YAAY;YAAChC,KAAK,EAAC,IAAI;YAACiC,KAAK,EAAC;;YACvC7D,OAAO,EAAAC,QAAA,CACqB6D,KADd,KA1EvC1B,gBAAA,CAAA2B,gBAAA,CA2EmBD,KAAK,CAACE,GAAG,CAACC,UAAU,CAACC,OAAO,OAAM,IACvC,gB;YA5EdnC,CAAA;cA8EYjC,YAAA,CAIkB6D,0BAAA;YAJDC,IAAI,EAAC,eAAe;YAAChC,KAAK,EAAC;;YAC/B5B,OAAO,EAAAC,QAAA,CACf6D,KADsB,KA/EvC1B,gBAAA,CA+EyC,IACxB,GAAA2B,gBAAA,CAAGD,KAAK,CAACE,GAAG,CAACd,aAAa,CAACgB,OAAO,oB;YAhFnDnC,CAAA;cAmFYjC,YAAA,CAIkB6D,0BAAA;YAJDC,IAAI,EAAC,cAAc;YAAChC,KAAK,EAAC;;YAC9B5B,OAAO,EAAAC,QAAA,CACuB6D,KADhB,KApFvC1B,gBAAA,CAAA2B,gBAAA,CAqFmBD,KAAK,CAACE,GAAG,CAACZ,YAAY,CAACc,OAAO,OAAM,OACzC,gB;YAtFdnC,CAAA;;UAAAA,CAAA;;QAAAA,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;QAAAlC,mBAAA,gBA6FIA,mBAAA,aAAgB,EACaU,MAAA,CAAA+B,YAAY,I,cAAzCd,YAAA,CAqCUzB,kBAAA;IAnId2B,GAAA;IA8FalC,KAAK,EAAC;;IACF6D,MAAM,EAAApD,QAAA,CACf,MAGM,CAHNC,mBAAA,CAGM,OAHNiE,UAGM,G,0BAFJjE,mBAAA,CAA2B,cAArB,gBAAc,sBACpBJ,YAAA,CAAqCsE,iBAAA;MAA7BnC,IAAI,EAAC;IAAS;MAlGhCjC,OAAA,EAAAC,QAAA,CAkGiC,MAAKQ,MAAA,QAAAA,MAAA,OAlGtC2B,gBAAA,CAkGiC,OAAK,E;MAlGtCL,CAAA;;IAAA/B,OAAA,EAAAC,QAAA,CAqGM,MA6BW,CA7BXH,YAAA,CA6BWyD,mBAAA;MA7BAC,IAAI,EAAEjD,MAAA,CAAA8D,YAAY;MAAE3E,KAAmB,EAAnB;QAAA;MAAA;;MArGrCM,OAAA,EAAAC,QAAA,CAsGQ,MAAsD,CAAtDH,YAAA,CAAsD6D,0BAAA;QAArC1B,IAAI,EAAC,OAAO;QAACL,KAAK,EAAC,IAAI;QAACiC,KAAK,EAAC;UAC/C/D,YAAA,CAA8D6D,0BAAA;QAA7CC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC,MAAM;QAACiC,KAAK,EAAC;UACtD/D,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC,MAAM;QAACiC,KAAK,EAAC;;QACzC7D,OAAO,EAAAC,QAAA,CACf6D,KADsB,KAzGnC1B,gBAAA,CAyGqC,IACxB,GAAA2B,gBAAA,CAAGD,KAAK,CAACE,GAAG,CAACM,UAAU,CAACJ,OAAO,oB;QA1G5CnC,CAAA;UA6GQjC,YAAA,CAA6D6D,0BAAA;QAA5CC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC,KAAK;QAACiC,KAAK,EAAC;UACrD/D,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,eAAe;QAAChC,KAAK,EAAC;;QAC/B5B,OAAO,EAAAC,QAAA,CACf6D,KADsB,KA/GnC1B,gBAAA,CA+GqC,IACxB,GAAA2B,gBAAA,CAAGD,KAAK,CAACE,GAAG,CAACO,aAAa,CAACL,OAAO,oB;QAhH/CnC,CAAA;UAmHQjC,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,kBAAkB;QAAChC,KAAK,EAAC;;QAClC5B,OAAO,EAAAC,QAAA,CAC2B6D,KADpB,KApHnC1B,gBAAA,CAAA2B,gBAAA,CAqHeD,KAAK,CAACE,GAAG,CAACQ,gBAAgB,CAACN,OAAO,OAAM,OAC7C,gB;QAtHVnC,CAAA;UAwHQjC,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,UAAU;QAAChC,KAAK,EAAC,OAAO;QAACiC,KAAK,EAAC;;QACxC7D,OAAO,EAAAC,QAAA,CACyB6D,KADlB,KACvBhE,YAAA,CAAyCsE,iBAAA;UA1HrDpE,OAAA,EAAAC,QAAA,CA0HoB,MAAwB,CA1H5CmC,gBAAA,CAAA2B,gBAAA,CA0HuBD,KAAK,CAACE,GAAG,CAACS,QAAQ,iB;UA1HzC1C,CAAA;;QAAAA,CAAA;UA6HQjC,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,cAAc;QAAChC,KAAK,EAAC,QAAQ;QAACiC,KAAK,EAAC;;QAC7C7D,OAAO,EAAAC,QAAA,CACwB6D,KADjB,KA9HnC1B,gBAAA,CAAA2B,gBAAA,CA+HexD,MAAA,CAAAmE,UAAU,CAACZ,KAAK,CAACE,GAAG,CAACW,YAAY,kB;QA/HhD5C,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;QAAAlC,mBAAA,gBAqIIA,mBAAA,aAAgB,EACyBU,MAAA,CAAA+B,YAAY,I,cAArDd,YAAA,CAaSe,iBAAA;IAnJbb,GAAA;IAsIac,MAAM,EAAE,EAAE;IAAEhD,KAAK,EAAC;;IAtI/BQ,OAAA,EAAAC,QAAA,CAuIM,MAKS,CALTH,YAAA,CAKS2C,iBAAA;MALAC,IAAI,EAAE;IAAE;MAvIvB1C,OAAA,EAAAC,QAAA,CAwIQ,MAGU,CAHVH,YAAA,CAGUC,kBAAA;QAFGsD,MAAM,EAAApD,QAAA,CAAC,MAAMQ,MAAA,QAAAA,MAAA,OAzIlC2B,gBAAA,CAyI4B,QAAM,E;QAzIlCpC,OAAA,EAAAC,QAAA,CA0IU,MAA+E,CAA/EC,mBAAA,CAA+E;UAA1EV,KAAK,EAAC,kBAAkB;UAACoF,SAA0C,EAAlCrE,MAAA,CAAAsE,UAAU,CAACtE,MAAA,CAAA+B,YAAY,CAACwC,QAAQ;gCA1IhFC,UAAA,E;QAAAhD,CAAA;;MAAAA,CAAA;QA6IMjC,YAAA,CAKS2C,iBAAA;MALAC,IAAI,EAAE;IAAE;MA7IvB1C,OAAA,EAAAC,QAAA,CA8IQ,MAGU,CAHVH,YAAA,CAGUC,kBAAA;QAFGsD,MAAM,EAAApD,QAAA,CAAC,MAAIQ,MAAA,SAAAA,MAAA,QA/IhC2B,gBAAA,CA+I4B,MAAI,E;QA/IhCpC,OAAA,EAAAC,QAAA,CAgJU,MAA6F,CAA7FC,mBAAA,CAA6F;UAAxFV,KAAK,EAAC,yBAAyB;UAACoF,SAAiD,EAAzCrE,MAAA,CAAAsE,UAAU,CAACtE,MAAA,CAAA+B,YAAY,CAAC0C,eAAe;gCAhJ9FC,UAAA,E;QAAAlD,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;QAAAlC,mBAAA,gBAqJIA,mBAAA,YAAe,EACcU,MAAA,CAAA+B,YAAY,I,cAAzCd,YAAA,CAmCUzB,kBAAA;IAzLd2B,GAAA;IAsJalC,KAAK,EAAC;;IACF6D,MAAM,EAAApD,QAAA,CACf,MAKM,CALNC,mBAAA,CAKM,OALNgF,UAKM,G,4BAJJhF,mBAAA,CAAmB,cAAb,QAAM,sBACZJ,YAAA,CAEYO,oBAAA;MA5JtBC,UAAA,EA0J8BC,MAAA,CAAA4E,eAAe;MA1J7C,uBAAA1E,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA0J8BH,MAAA,CAAA4E,eAAe,GAAAzE,MAAA;MAAEC,WAAW,EAAC,QAAQ;MAACQ,SAAS,EAAT,EAAS;MAACzB,KAAoB,EAApB;QAAA;MAAA;;MA1J9EM,OAAA,EAAAC,QAAA,CA2JuB,MAA2B,E,kBAAtCN,mBAAA,CAA0FyB,SAAA,QA3JtGC,WAAA,CA2JyCd,MAAA,CAAA6E,QAAQ,EAAnBC,OAAO;6BAAzB7D,YAAA,CAA0FC,oBAAA;UAAlDC,GAAG,EAAE2D,OAAO;UAAGzD,KAAK,EAAEyD,OAAO;UAAGvD,KAAK,EAAEuD;;;MA3J3FtD,CAAA;;IAAA/B,OAAA,EAAAC,QAAA,CA+JM,MAyBW,CAzBXH,YAAA,CAyBWyD,mBAAA;MAzBAC,IAAI,EAAEjD,MAAA,CAAA+E,iBAAiB;MAAE5F,KAAmB,EAAnB;QAAA;MAAA,CAAmB;MAAC,YAAU,EAAC;;MA/JzEM,OAAA,EAAAC,QAAA,CAgKQ,MAA8D,CAA9DH,YAAA,CAA8D6D,0BAAA;QAA7CC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC,MAAM;QAACiC,KAAK,EAAC;UACtD/D,YAAA,CAMkB6D,0BAAA;QANDC,IAAI,EAAC,iBAAiB;QAAChC,KAAK,EAAC,MAAM;QAACiC,KAAK,EAAC;;QAC9C7D,OAAO,EAAAC,QAAA,CAGP6D,KAHc,KACvBhE,YAAA,CAESsE,iBAAA;UAFAnC,IAAI,EAAE1B,MAAA,CAAAgF,cAAc,CAACzB,KAAK,CAACE,GAAG,CAACwB,eAAe;;UAnKnExF,OAAA,EAAAC,QAAA,CAoKc,MAA+B,CApK7CmC,gBAAA,CAAA2B,gBAAA,CAoKiBD,KAAK,CAACE,GAAG,CAACwB,eAAe,iB;UApK1CzD,CAAA;;QAAAA,CAAA;UAwKQjC,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC;;QAC5B5B,OAAO,EAAAC,QAAA,CACf6D,KADsB,KAzKnC1B,gBAAA,CAyKqC,IACxB,GAAA2B,gBAAA,CAAGD,KAAK,CAACE,GAAG,CAACM,UAAU,CAACJ,OAAO,oB;QA1K5CnC,CAAA;UA6KQjC,YAAA,CAAiD6D,0BAAA;QAAhCC,IAAI,EAAC,YAAY;QAAChC,KAAK,EAAC;UACzC9B,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,UAAU;QAAChC,KAAK,EAAC;;QAC1B5B,OAAO,EAAAC,QAAA,CACyB6D,KADlB,KACvBhE,YAAA,CAAyCsE,iBAAA;UAhLrDpE,OAAA,EAAAC,QAAA,CAgLoB,MAAwB,CAhL5CmC,gBAAA,CAAA2B,gBAAA,CAgLuBD,KAAK,CAACE,GAAG,CAACS,QAAQ,iB;UAhLzC1C,CAAA;;QAAAA,CAAA;UAmLQjC,YAAA,CAIkB6D,0BAAA;QAJDC,IAAI,EAAC,cAAc;QAAChC,KAAK,EAAC;;QAC9B5B,OAAO,EAAAC,QAAA,CACwB6D,KADjB,KApLnC1B,gBAAA,CAAA2B,gBAAA,CAqLexD,MAAA,CAAAmE,UAAU,CAACZ,KAAK,CAACE,GAAG,CAACW,YAAY,kB;QArLhD5C,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;QAAAlC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}