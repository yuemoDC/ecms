{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      products: [],\n      showAddProductForm: false,\n      newProduct: {\n        productName: '',\n        price: 0,\n        stockQuantity: 0\n      }\n    };\n  },\n  methods: {\n    fetchProducts() {\n      axios.get('/api/merchant/products', {\n        params: {\n          merchantId: 1\n        }\n      }) // 假设商家ID为1\n      .then(response => {\n        this.products = response.data;\n      });\n    },\n    addProduct() {\n      axios.post('/api/merchant/products', this.newProduct).then(() => {\n        this.fetchProducts();\n        this.showAddProductForm = false;\n        this.newProduct = {\n          productName: '',\n          price: 0,\n          stockQuantity: 0\n        };\n      });\n    },\n    deleteProduct(productId) {\n      axios.delete(`/api/merchant/products/${productId}`).then(() => {\n        this.fetchProducts();\n      });\n    },\n    editProduct(product) {\n      // 这里可以实现编辑功能，类似于添加功能\n    }\n  },\n  mounted() {\n    this.fetchProducts();\n  }\n};","map":{"version":3,"names":["axios","data","products","showAddProductForm","newProduct","productName","price","stockQuantity","methods","fetchProducts","get","params","merchantId","then","response","addProduct","post","deleteProduct","productId","delete","editProduct","product","mounted"],"sources":["E:\\ecms\\ecmsvue\\src\\components\\ProductList.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>商品管理</h1>\r\n    <button @click=\"showAddProductForm = true\">添加商品</button>\r\n\r\n    <div v-if=\"showAddProductForm\">\r\n      <h2>添加商品</h2>\r\n      <input v-model=\"newProduct.productName\" placeholder=\"商品名称\" />\r\n      <input v-model=\"newProduct.price\" type=\"number\" placeholder=\"价格\" />\r\n      <input v-model=\"newProduct.stockQuantity\" type=\"number\" placeholder=\"库存数量\" />\r\n      <button @click=\"addProduct\">提交</button>\r\n      <button @click=\"showAddProductForm = false\">取消</button>\r\n    </div>\r\n\r\n    <ul>\r\n      <li v-for=\"product in products\" :key=\"product.productId\">\r\n        {{ product.productName }} - {{ product.price }} - {{ product.stockQuantity }}\r\n        <button @click=\"editProduct(product)\">编辑</button>\r\n        <button @click=\"deleteProduct(product.productId)\">删除</button>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      showAddProductForm: false,\r\n      newProduct: {\r\n        productName: '',\r\n        price: 0,\r\n        stockQuantity: 0,\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    fetchProducts() {\r\n      axios.get('/api/merchant/products', { params: { merchantId: 1 } }) // 假设商家ID为1\r\n          .then(response => {\r\n            this.products = response.data;\r\n          });\r\n    },\r\n    addProduct() {\r\n      axios.post('/api/merchant/products', this.newProduct)\r\n          .then(() => {\r\n            this.fetchProducts();\r\n            this.showAddProductForm = false;\r\n            this.newProduct = { productName: '', price: 0, stockQuantity: 0 };\r\n          });\r\n    },\r\n    deleteProduct(productId) {\r\n      axios.delete(`/api/merchant/products/${productId}`)\r\n          .then(() => {\r\n            this.fetchProducts();\r\n          });\r\n    },\r\n    editProduct(product) {\r\n      // 这里可以实现编辑功能，类似于添加功能\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchProducts();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* 添加样式 */\r\n</style>\r\n"],"mappings":"AAyBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,kBAAkB,EAAE,KAAK;MACzBC,UAAU,EAAE;QACVC,WAAW,EAAE,EAAE;QACfC,KAAK,EAAE,CAAC;QACRC,aAAa,EAAE;MACjB;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACdT,KAAK,CAACU,GAAG,CAAC,wBAAwB,EAAE;QAAEC,MAAM,EAAE;UAAEC,UAAU,EAAE;QAAE;MAAE,CAAC,EAAE;MAAA,CAC9DC,IAAI,CAACC,QAAO,IAAK;QAChB,IAAI,CAACZ,QAAO,GAAIY,QAAQ,CAACb,IAAI;MAC/B,CAAC,CAAC;IACR,CAAC;IACDc,UAAUA,CAAA,EAAG;MACXf,KAAK,CAACgB,IAAI,CAAC,wBAAwB,EAAE,IAAI,CAACZ,UAAU,EAC/CS,IAAI,CAAC,MAAM;QACV,IAAI,CAACJ,aAAa,CAAC,CAAC;QACpB,IAAI,CAACN,kBAAiB,GAAI,KAAK;QAC/B,IAAI,CAACC,UAAS,GAAI;UAAEC,WAAW,EAAE,EAAE;UAAEC,KAAK,EAAE,CAAC;UAAEC,aAAa,EAAE;QAAE,CAAC;MACnE,CAAC,CAAC;IACR,CAAC;IACDU,aAAaA,CAACC,SAAS,EAAE;MACvBlB,KAAK,CAACmB,MAAM,CAAC,0BAA0BD,SAAS,EAAE,EAC7CL,IAAI,CAAC,MAAM;QACV,IAAI,CAACJ,aAAa,CAAC,CAAC;MACtB,CAAC,CAAC;IACR,CAAC;IACDW,WAAWA,CAACC,OAAO,EAAE;MACnB;IAAA;EAEJ,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACb,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}