{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.find.js\";\nimport { ref, computed, onMounted, nextTick } from 'vue';\nimport { ElMessage } from 'element-plus';\nimport * as echarts from 'echarts';\nimport axios from 'axios';\nexport default {\n  __name: 'InventoryAlertsAnalysis',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selectedMerchantId = ref(null);\n    const loading = ref(false);\n    const analysisData = ref(null);\n    const filterStatus = ref('');\n    const searchKeyword = ref('');\n    const merchants = ref([{\n      id: 1,\n      name: '商家A'\n    }, {\n      id: 2,\n      name: '商家B'\n    }, {\n      id: 3,\n      name: '商家C'\n    }]);\n    const pieChartRef = ref(null);\n    let pieChart = null;\n    const restockDialogVisible = ref(false);\n    const restockForm = ref({\n      productId: null,\n      productName: '',\n      recommendedAmount: 0,\n      actualAmount: 0\n    });\n\n    // 加载数据\n    const loadData = async () => {\n      if (!selectedMerchantId.value) {\n        ElMessage.warning('请选择商家');\n        return;\n      }\n      loading.value = true;\n      try {\n        const response = await axios.get(`/api/data-analysis/inventory-alerts/${selectedMerchantId.value}`);\n        analysisData.value = response.data;\n        nextTick(() => {\n          renderPieChart();\n        });\n      } catch (error) {\n        ElMessage.error('加载数据失败');\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 渲染饼图\n    const renderPieChart = () => {\n      if (!pieChartRef.value) return;\n      if (pieChart) {\n        pieChart.dispose();\n      }\n      pieChart = echarts.init(pieChartRef.value);\n      const data = [{\n        value: analysisData.value.criticalCount,\n        name: '紧急',\n        itemStyle: {\n          color: '#F56C6C'\n        }\n      }, {\n        value: analysisData.value.warningCount,\n        name: '警告',\n        itemStyle: {\n          color: '#E6A23C'\n        }\n      }, {\n        value: analysisData.value.attentionCount,\n        name: '关注',\n        itemStyle: {\n          color: '#409EFF'\n        }\n      }, {\n        value: healthyCount.value,\n        name: '健康',\n        itemStyle: {\n          color: '#67C23A'\n        }\n      }];\n      const option = {\n        tooltip: {\n          trigger: 'item',\n          formatter: '{b}: {c} ({d}%)'\n        },\n        series: [{\n          type: 'pie',\n          radius: ['40%', '70%'],\n          avoidLabelOverlap: false,\n          itemStyle: {\n            borderRadius: 10,\n            borderColor: '#fff',\n            borderWidth: 2\n          },\n          label: {\n            show: false,\n            position: 'center'\n          },\n          emphasis: {\n            label: {\n              show: true,\n              fontSize: '20',\n              fontWeight: 'bold'\n            }\n          },\n          data: data\n        }]\n      };\n      pieChart.setOption(option);\n    };\n\n    // 计算属性\n    const healthyCount = computed(() => {\n      if (!analysisData.value) return 0;\n      const healthy = analysisData.value.stockoutPredictions?.filter(p => p.status === 'HEALTHY') || [];\n      return healthy.length;\n    });\n    const filteredProducts = computed(() => {\n      if (!analysisData.value?.stockoutPredictions) return [];\n      let products = analysisData.value.stockoutPredictions;\n      if (filterStatus.value) {\n        products = products.filter(p => p.status === filterStatus.value);\n      }\n      if (searchKeyword.value) {\n        const keyword = searchKeyword.value.toLowerCase();\n        products = products.filter(p => p.productName.toLowerCase().includes(keyword));\n      }\n      return products;\n    });\n\n    // 方法\n    const getStatusType = status => {\n      const map = {\n        'CRITICAL': 'danger',\n        'WARNING': 'warning',\n        'ATTENTION': 'info',\n        'HEALTHY': 'success'\n      };\n      return map[status] || 'info';\n    };\n    const getStatusText = status => {\n      const map = {\n        'CRITICAL': '紧急',\n        'WARNING': '警告',\n        'ATTENTION': '关注',\n        'HEALTHY': '健康'\n      };\n      return map[status] || status;\n    };\n    const getRowClass = ({\n      row\n    }) => {\n      if (row.status === 'CRITICAL') return 'critical-row';\n      if (row.status === 'WARNING') return 'warning-row';\n      return '';\n    };\n    const getRecommendedRestock = productId => {\n      if (!analysisData.value?.inventoryRecommendations) return '-';\n      const recommendation = analysisData.value.inventoryRecommendations.find(r => r.productId === productId);\n      return recommendation ? recommendation.restockAmount : '-';\n    };\n    const formatText = text => {\n      return text?.replace(/\\n/g, '<br>') || '';\n    };\n    const showRestockDialog = () => {\n      // 显示补货对话框逻辑\n      ElMessage.info('生成补货单功能开发中');\n    };\n    const handleRestock = product => {\n      restockForm.value = {\n        productId: product.productId,\n        productName: product.productName,\n        recommendedAmount: getRecommendedRestock(product.productId),\n        actualAmount: getRecommendedRestock(product.productId)\n      };\n      restockDialogVisible.value = true;\n    };\n    const submitRestock = () => {\n      // 提交补货逻辑\n      ElMessage.success('补货成功');\n      restockDialogVisible.value = false;\n    };\n    onMounted(() => {\n      if (selectedMerchantId.value) {\n        loadData();\n      }\n    });\n    const __returned__ = {\n      selectedMerchantId,\n      loading,\n      analysisData,\n      filterStatus,\n      searchKeyword,\n      merchants,\n      pieChartRef,\n      get pieChart() {\n        return pieChart;\n      },\n      set pieChart(v) {\n        pieChart = v;\n      },\n      restockDialogVisible,\n      restockForm,\n      loadData,\n      renderPieChart,\n      healthyCount,\n      filteredProducts,\n      getStatusType,\n      getStatusText,\n      getRowClass,\n      getRecommendedRestock,\n      formatText,\n      showRestockDialog,\n      handleRestock,\n      submitRestock,\n      ref,\n      computed,\n      onMounted,\n      nextTick,\n      get ElMessage() {\n        return ElMessage;\n      },\n      get echarts() {\n        return echarts;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","onMounted","nextTick","ElMessage","echarts","axios","selectedMerchantId","loading","analysisData","filterStatus","searchKeyword","merchants","id","name","pieChartRef","pieChart","restockDialogVisible","restockForm","productId","productName","recommendedAmount","actualAmount","loadData","value","warning","response","get","data","renderPieChart","error","dispose","init","criticalCount","itemStyle","color","warningCount","attentionCount","healthyCount","option","tooltip","trigger","formatter","series","type","radius","avoidLabelOverlap","borderRadius","borderColor","borderWidth","label","show","position","emphasis","fontSize","fontWeight","setOption","healthy","stockoutPredictions","filter","p","status","length","filteredProducts","products","keyword","toLowerCase","includes","getStatusType","map","getStatusText","getRowClass","row","getRecommendedRestock","inventoryRecommendations","recommendation","find","r","restockAmount","formatText","text","replace","showRestockDialog","info","handleRestock","product","submitRestock","success"],"sources":["E:/shixun/420/ecms/ecmsvue/src/views/InventoryAlertsAnalysis.vue"],"sourcesContent":["<template>\r\n  <div class=\"inventory-alerts\">\r\n    <!-- 头部 -->\r\n    <el-card class=\"header-card\">\r\n      <div class=\"header\">\r\n        <h3>库存预警分析</h3>\r\n        <div class=\"controls\">\r\n          <el-select v-model=\"selectedMerchantId\" placeholder=\"选择商家\" style=\"width: 200px\" @change=\"loadData\">\r\n            <el-option v-for=\"merchant in merchants\" :key=\"merchant.id\" :label=\"merchant.name\" :value=\"merchant.id\" />\r\n          </el-select>\r\n          <el-button type=\"primary\" :loading=\"loading\" @click=\"loadData\" :disabled=\"!selectedMerchantId\">\r\n            分析库存\r\n          </el-button>\r\n          <el-button type=\"warning\" @click=\"showRestockDialog\" :disabled=\"!analysisData\">\r\n            生成补货单\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n\r\n    <!-- 统计卡片 -->\r\n    <el-row :gutter=\"20\" class=\"stats-row\" v-if=\"analysisData\">\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\" class=\"stat-card critical\">\r\n          <el-statistic title=\"紧急预警\" :value=\"analysisData.criticalCount\" suffix=\"件\">\r\n            <template #prefix>\r\n              <el-icon color=\"#F56C6C\"><WarningFilled /></el-icon>\r\n            </template>\r\n          </el-statistic>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\" class=\"stat-card warning\">\r\n          <el-statistic title=\"警告预警\" :value=\"analysisData.warningCount\" suffix=\"件\">\r\n            <template #prefix>\r\n              <el-icon color=\"#E6A23C\"><Warning /></el-icon>\r\n            </template>\r\n          </el-statistic>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\" class=\"stat-card attention\">\r\n          <el-statistic title=\"关注预警\" :value=\"analysisData.attentionCount\" suffix=\"件\">\r\n            <template #prefix>\r\n              <el-icon color=\"#409EFF\"><InfoFilled /></el-icon>\r\n            </template>\r\n          </el-statistic>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"6\">\r\n        <el-card shadow=\"hover\" class=\"stat-card healthy\">\r\n          <el-statistic title=\"健康库存\" :value=\"healthyCount\" suffix=\"件\">\r\n            <template #prefix>\r\n              <el-icon color=\"#67C23A\"><SuccessFilled /></el-icon>\r\n            </template>\r\n          </el-statistic>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 图表区域 -->\r\n    <el-row :gutter=\"20\" v-if=\"analysisData\">\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>库存状态分布</template>\r\n          <div ref=\"pieChartRef\" style=\"height: 300px\"></div>\r\n        </el-card>\r\n      </el-col>\r\n      <el-col :span=\"12\">\r\n        <el-card>\r\n          <template #header>库存健康评估</template>\r\n          <div class=\"health-assessment\">\r\n            <div v-html=\"formatText(analysisData.inventoryHealthAssessment)\"></div>\r\n          </div>\r\n        </el-card>\r\n      </el-col>\r\n    </el-row>\r\n\r\n    <!-- 库存预警列表 -->\r\n    <el-card class=\"mt-20\" v-if=\"analysisData\">\r\n      <template #header>\r\n        <div class=\"table-header\">\r\n          <span>库存预警详情</span>\r\n          <div class=\"filters\">\r\n            <el-select v-model=\"filterStatus\" placeholder=\"状态筛选\" clearable style=\"width: 150px\">\r\n              <el-option label=\"紧急\" value=\"CRITICAL\" />\r\n              <el-option label=\"警告\" value=\"WARNING\" />\r\n              <el-option label=\"关注\" value=\"ATTENTION\" />\r\n              <el-option label=\"健康\" value=\"HEALTHY\" />\r\n            </el-select>\r\n            <el-input v-model=\"searchKeyword\" placeholder=\"搜索产品\" clearable style=\"width: 200px\" />\r\n          </div>\r\n        </div>\r\n      </template>\r\n\r\n      <el-table :data=\"filteredProducts\" :row-class-name=\"getRowClass\" style=\"width: 100%\">\r\n        <el-table-column prop=\"productName\" label=\"产品名称\" min-width=\"150\" />\r\n        <el-table-column prop=\"currentStock\" label=\"当前库存\" width=\"100\" />\r\n        <el-table-column prop=\"dailySalesRate\" label=\"日均销售\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.dailySalesRate.toFixed(2) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"daysToStockout\" label=\"可维持天数\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.daysToStockout || '-' }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n          <template #default=\"scope\">\r\n            <el-tag :type=\"getStatusType(scope.row.status)\">\r\n              {{ getStatusText(scope.row.status) }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"建议补货量\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            {{ getRecommendedRestock(scope.row.productId) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\r\n          <template #default=\"scope\">\r\n            <el-button type=\"primary\" size=\"small\" @click=\"handleRestock(scope.row)\">补货</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 补货建议 -->\r\n    <el-card class=\"mt-20\" v-if=\"analysisData?.inventoryRecommendations?.length\">\r\n      <template #header>智能补货建议</template>\r\n      <el-table :data=\"analysisData.inventoryRecommendations\" style=\"width: 100%\">\r\n        <el-table-column prop=\"productName\" label=\"产品名称\" />\r\n        <el-table-column prop=\"currentStock\" label=\"当前库存\" />\r\n        <el-table-column prop=\"predictedSales\" label=\"预测销量\">\r\n          <template #default=\"scope\">\r\n            {{ scope.row.predictedSales.toFixed(2) }}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"recommendedStock\" label=\"建议库存\" />\r\n        <el-table-column prop=\"restockAmount\" label=\"补货量\">\r\n          <template #default=\"scope\">\r\n            <el-tag v-if=\"scope.row.restockAmount > 0\" type=\"danger\">\r\n              {{ scope.row.restockAmount }}\r\n            </el-tag>\r\n            <span v-else>-</span>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n    <!-- 补货对话框 -->\r\n    <el-dialog v-model=\"restockDialogVisible\" title=\"补货\" width=\"500px\">\r\n      <el-form :model=\"restockForm\" label-width=\"100px\">\r\n        <el-form-item label=\"产品名称\">\r\n          <el-input v-model=\"restockForm.productName\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"建议补货量\">\r\n          <el-input v-model=\"restockForm.recommendedAmount\" disabled />\r\n        </el-form-item>\r\n        <el-form-item label=\"实际补货量\">\r\n          <el-input-number v-model=\"restockForm.actualAmount\" :min=\"1\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <template #footer>\r\n        <el-button @click=\"restockDialogVisible = false\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitRestock\">确认补货</el-button>\r\n      </template>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, nextTick } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\nimport * as echarts from 'echarts'\r\nimport axios from 'axios'\r\n\r\nconst selectedMerchantId = ref(null)\r\nconst loading = ref(false)\r\nconst analysisData = ref(null)\r\nconst filterStatus = ref('')\r\nconst searchKeyword = ref('')\r\n\r\nconst merchants = ref([\r\n  { id: 1, name: '商家A' },\r\n  { id: 2, name: '商家B' },\r\n  { id: 3, name: '商家C' }\r\n])\r\n\r\nconst pieChartRef = ref(null)\r\nlet pieChart = null\r\n\r\nconst restockDialogVisible = ref(false)\r\nconst restockForm = ref({\r\n  productId: null,\r\n  productName: '',\r\n  recommendedAmount: 0,\r\n  actualAmount: 0\r\n})\r\n\r\n// 加载数据\r\nconst loadData = async () => {\r\n  if (!selectedMerchantId.value) {\r\n    ElMessage.warning('请选择商家')\r\n    return\r\n  }\r\n\r\n  loading.value = true\r\n  try {\r\n    const response = await axios.get(`/api/data-analysis/inventory-alerts/${selectedMerchantId.value}`)\r\n    analysisData.value = response.data\r\n    nextTick(() => {\r\n      renderPieChart()\r\n    })\r\n  } catch (error) {\r\n    ElMessage.error('加载数据失败')\r\n  } finally {\r\n    loading.value = false\r\n  }\r\n}\r\n\r\n// 渲染饼图\r\nconst renderPieChart = () => {\r\n  if (!pieChartRef.value) return\r\n\r\n  if (pieChart) {\r\n    pieChart.dispose()\r\n  }\r\n\r\n  pieChart = echarts.init(pieChartRef.value)\r\n\r\n  const data = [\r\n    { value: analysisData.value.criticalCount, name: '紧急', itemStyle: { color: '#F56C6C' } },\r\n    { value: analysisData.value.warningCount, name: '警告', itemStyle: { color: '#E6A23C' } },\r\n    { value: analysisData.value.attentionCount, name: '关注', itemStyle: { color: '#409EFF' } },\r\n    { value: healthyCount.value, name: '健康', itemStyle: { color: '#67C23A' } }\r\n  ]\r\n\r\n  const option = {\r\n    tooltip: {\r\n      trigger: 'item',\r\n      formatter: '{b}: {c} ({d}%)'\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        radius: ['40%', '70%'],\r\n        avoidLabelOverlap: false,\r\n        itemStyle: {\r\n          borderRadius: 10,\r\n          borderColor: '#fff',\r\n          borderWidth: 2\r\n        },\r\n        label: {\r\n          show: false,\r\n          position: 'center'\r\n        },\r\n        emphasis: {\r\n          label: {\r\n            show: true,\r\n            fontSize: '20',\r\n            fontWeight: 'bold'\r\n          }\r\n        },\r\n        data: data\r\n      }\r\n    ]\r\n  }\r\n\r\n  pieChart.setOption(option)\r\n}\r\n\r\n// 计算属性\r\nconst healthyCount = computed(() => {\r\n  if (!analysisData.value) return 0\r\n  const healthy = analysisData.value.stockoutPredictions?.filter(p => p.status === 'HEALTHY') || []\r\n  return healthy.length\r\n})\r\n\r\nconst filteredProducts = computed(() => {\r\n  if (!analysisData.value?.stockoutPredictions) return []\r\n  let products = analysisData.value.stockoutPredictions\r\n\r\n  if (filterStatus.value) {\r\n    products = products.filter(p => p.status === filterStatus.value)\r\n  }\r\n\r\n  if (searchKeyword.value) {\r\n    const keyword = searchKeyword.value.toLowerCase()\r\n    products = products.filter(p => p.productName.toLowerCase().includes(keyword))\r\n  }\r\n\r\n  return products\r\n})\r\n\r\n// 方法\r\nconst getStatusType = (status) => {\r\n  const map = {\r\n    'CRITICAL': 'danger',\r\n    'WARNING': 'warning',\r\n    'ATTENTION': 'info',\r\n    'HEALTHY': 'success'\r\n  }\r\n  return map[status] || 'info'\r\n}\r\n\r\nconst getStatusText = (status) => {\r\n  const map = {\r\n    'CRITICAL': '紧急',\r\n    'WARNING': '警告',\r\n    'ATTENTION': '关注',\r\n    'HEALTHY': '健康'\r\n  }\r\n  return map[status] || status\r\n}\r\n\r\nconst getRowClass = ({ row }) => {\r\n  if (row.status === 'CRITICAL') return 'critical-row'\r\n  if (row.status === 'WARNING') return 'warning-row'\r\n  return ''\r\n}\r\n\r\nconst getRecommendedRestock = (productId) => {\r\n  if (!analysisData.value?.inventoryRecommendations) return '-'\r\n  const recommendation = analysisData.value.inventoryRecommendations.find(r => r.productId === productId)\r\n  return recommendation ? recommendation.restockAmount : '-'\r\n}\r\n\r\nconst formatText = (text) => {\r\n  return text?.replace(/\\n/g, '<br>') || ''\r\n}\r\n\r\nconst showRestockDialog = () => {\r\n  // 显示补货对话框逻辑\r\n  ElMessage.info('生成补货单功能开发中')\r\n}\r\n\r\nconst handleRestock = (product) => {\r\n  restockForm.value = {\r\n    productId: product.productId,\r\n    productName: product.productName,\r\n    recommendedAmount: getRecommendedRestock(product.productId),\r\n    actualAmount: getRecommendedRestock(product.productId)\r\n  }\r\n  restockDialogVisible.value = true\r\n}\r\n\r\nconst submitRestock = () => {\r\n  // 提交补货逻辑\r\n  ElMessage.success('补货成功')\r\n  restockDialogVisible.value = false\r\n}\r\n\r\nonMounted(() => {\r\n  if (selectedMerchantId.value) {\r\n    loadData()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.inventory-alerts {\r\n  padding: 20px;\r\n}\r\n\r\n.header-card {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.controls {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.stats-row {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.stat-card {\r\n  transition: all 0.3s;\r\n}\r\n\r\n.stat-card:hover {\r\n  transform: translateY(-5px);\r\n}\r\n\r\n.critical {\r\n  border-left: 4px solid #F56C6C;\r\n}\r\n\r\n.warning {\r\n  border-left: 4px solid #E6A23C;\r\n}\r\n\r\n.attention {\r\n  border-left: 4px solid #409EFF;\r\n}\r\n\r\n.healthy {\r\n  border-left: 4px solid #67C23A;\r\n}\r\n\r\n.table-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  gap: 10px;\r\n}\r\n\r\n.health-assessment {\r\n  padding: 10px;\r\n  line-height: 1.6;\r\n}\r\n\r\n.mt-20 {\r\n  margin-top: 20px;\r\n}\r\n\r\n:deep(.critical-row) {\r\n  background-color: #fef0f0;\r\n}\r\n\r\n:deep(.warning-row) {\r\n  background-color: #fdf6ec;\r\n}\r\n</style>\r\n"],"mappings":";;;AA6KA,SAASA,GAAG,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,KAAK;AACxD,SAASC,SAAS,QAAQ,cAAc;AACxC,OAAO,KAAKC,OAAO,MAAM,SAAS;AAClC,OAAOC,KAAK,MAAM,OAAO;;;;;;;IAEzB,MAAMC,kBAAkB,GAAGP,GAAG,CAAC,IAAI,CAAC;IACpC,MAAMQ,OAAO,GAAGR,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMS,YAAY,GAAGT,GAAG,CAAC,IAAI,CAAC;IAC9B,MAAMU,YAAY,GAAGV,GAAG,CAAC,EAAE,CAAC;IAC5B,MAAMW,aAAa,GAAGX,GAAG,CAAC,EAAE,CAAC;IAE7B,MAAMY,SAAS,GAAGZ,GAAG,CAAC,CACpB;MAAEa,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAM,CAAC,EACtB;MAAED,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAM,CAAC,EACtB;MAAED,EAAE,EAAE,CAAC;MAAEC,IAAI,EAAE;IAAM,CAAC,CACvB,CAAC;IAEF,MAAMC,WAAW,GAAGf,GAAG,CAAC,IAAI,CAAC;IAC7B,IAAIgB,QAAQ,GAAG,IAAI;IAEnB,MAAMC,oBAAoB,GAAGjB,GAAG,CAAC,KAAK,CAAC;IACvC,MAAMkB,WAAW,GAAGlB,GAAG,CAAC;MACtBmB,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,EAAE;MACfC,iBAAiB,EAAE,CAAC;MACpBC,YAAY,EAAE;IAChB,CAAC,CAAC;;IAEF;IACA,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI,CAAChB,kBAAkB,CAACiB,KAAK,EAAE;QAC7BpB,SAAS,CAACqB,OAAO,CAAC,OAAO,CAAC;QAC1B;MACF;MAEAjB,OAAO,CAACgB,KAAK,GAAG,IAAI;MACpB,IAAI;QACF,MAAME,QAAQ,GAAG,MAAMpB,KAAK,CAACqB,GAAG,CAAC,uCAAuCpB,kBAAkB,CAACiB,KAAK,EAAE,CAAC;QACnGf,YAAY,CAACe,KAAK,GAAGE,QAAQ,CAACE,IAAI;QAClCzB,QAAQ,CAAC,MAAM;UACb0B,cAAc,CAAC,CAAC;QAClB,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;QACd1B,SAAS,CAAC0B,KAAK,CAAC,QAAQ,CAAC;MAC3B,CAAC,SAAS;QACRtB,OAAO,CAACgB,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;;IAED;IACA,MAAMK,cAAc,GAAGA,CAAA,KAAM;MAC3B,IAAI,CAACd,WAAW,CAACS,KAAK,EAAE;MAExB,IAAIR,QAAQ,EAAE;QACZA,QAAQ,CAACe,OAAO,CAAC,CAAC;MACpB;MAEAf,QAAQ,GAAGX,OAAO,CAAC2B,IAAI,CAACjB,WAAW,CAACS,KAAK,CAAC;MAE1C,MAAMI,IAAI,GAAG,CACX;QAAEJ,KAAK,EAAEf,YAAY,CAACe,KAAK,CAACS,aAAa;QAAEnB,IAAI,EAAE,IAAI;QAAEoB,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAU;MAAE,CAAC,EACxF;QAAEX,KAAK,EAAEf,YAAY,CAACe,KAAK,CAACY,YAAY;QAAEtB,IAAI,EAAE,IAAI;QAAEoB,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAU;MAAE,CAAC,EACvF;QAAEX,KAAK,EAAEf,YAAY,CAACe,KAAK,CAACa,cAAc;QAAEvB,IAAI,EAAE,IAAI;QAAEoB,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAU;MAAE,CAAC,EACzF;QAAEX,KAAK,EAAEc,YAAY,CAACd,KAAK;QAAEV,IAAI,EAAE,IAAI;QAAEoB,SAAS,EAAE;UAAEC,KAAK,EAAE;QAAU;MAAE,CAAC,CAC3E;MAED,MAAMI,MAAM,GAAG;QACbC,OAAO,EAAE;UACPC,OAAO,EAAE,MAAM;UACfC,SAAS,EAAE;QACb,CAAC;QACDC,MAAM,EAAE,CACN;UACEC,IAAI,EAAE,KAAK;UACXC,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;UACtBC,iBAAiB,EAAE,KAAK;UACxBZ,SAAS,EAAE;YACTa,YAAY,EAAE,EAAE;YAChBC,WAAW,EAAE,MAAM;YACnBC,WAAW,EAAE;UACf,CAAC;UACDC,KAAK,EAAE;YACLC,IAAI,EAAE,KAAK;YACXC,QAAQ,EAAE;UACZ,CAAC;UACDC,QAAQ,EAAE;YACRH,KAAK,EAAE;cACLC,IAAI,EAAE,IAAI;cACVG,QAAQ,EAAE,IAAI;cACdC,UAAU,EAAE;YACd;UACF,CAAC;UACD3B,IAAI,EAAEA;QACR,CAAC;MAEL,CAAC;MAEDZ,QAAQ,CAACwC,SAAS,CAACjB,MAAM,CAAC;IAC5B,CAAC;;IAED;IACA,MAAMD,YAAY,GAAGrC,QAAQ,CAAC,MAAM;MAClC,IAAI,CAACQ,YAAY,CAACe,KAAK,EAAE,OAAO,CAAC;MACjC,MAAMiC,OAAO,GAAGhD,YAAY,CAACe,KAAK,CAACkC,mBAAmB,EAAEC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAK,SAAS,CAAC,IAAI,EAAE;MACjG,OAAOJ,OAAO,CAACK,MAAM;IACvB,CAAC,CAAC;IAEF,MAAMC,gBAAgB,GAAG9D,QAAQ,CAAC,MAAM;MACtC,IAAI,CAACQ,YAAY,CAACe,KAAK,EAAEkC,mBAAmB,EAAE,OAAO,EAAE;MACvD,IAAIM,QAAQ,GAAGvD,YAAY,CAACe,KAAK,CAACkC,mBAAmB;MAErD,IAAIhD,YAAY,CAACc,KAAK,EAAE;QACtBwC,QAAQ,GAAGA,QAAQ,CAACL,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAKnD,YAAY,CAACc,KAAK,CAAC;MAClE;MAEA,IAAIb,aAAa,CAACa,KAAK,EAAE;QACvB,MAAMyC,OAAO,GAAGtD,aAAa,CAACa,KAAK,CAAC0C,WAAW,CAAC,CAAC;QACjDF,QAAQ,GAAGA,QAAQ,CAACL,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACxC,WAAW,CAAC8C,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACF,OAAO,CAAC,CAAC;MAChF;MAEA,OAAOD,QAAQ;IACjB,CAAC,CAAC;;IAEF;IACA,MAAMI,aAAa,GAAIP,MAAM,IAAK;MAChC,MAAMQ,GAAG,GAAG;QACV,UAAU,EAAE,QAAQ;QACpB,SAAS,EAAE,SAAS;QACpB,WAAW,EAAE,MAAM;QACnB,SAAS,EAAE;MACb,CAAC;MACD,OAAOA,GAAG,CAACR,MAAM,CAAC,IAAI,MAAM;IAC9B,CAAC;IAED,MAAMS,aAAa,GAAIT,MAAM,IAAK;MAChC,MAAMQ,GAAG,GAAG;QACV,UAAU,EAAE,IAAI;QAChB,SAAS,EAAE,IAAI;QACf,WAAW,EAAE,IAAI;QACjB,SAAS,EAAE;MACb,CAAC;MACD,OAAOA,GAAG,CAACR,MAAM,CAAC,IAAIA,MAAM;IAC9B,CAAC;IAED,MAAMU,WAAW,GAAGA,CAAC;MAAEC;IAAI,CAAC,KAAK;MAC/B,IAAIA,GAAG,CAACX,MAAM,KAAK,UAAU,EAAE,OAAO,cAAc;MACpD,IAAIW,GAAG,CAACX,MAAM,KAAK,SAAS,EAAE,OAAO,aAAa;MAClD,OAAO,EAAE;IACX,CAAC;IAED,MAAMY,qBAAqB,GAAItD,SAAS,IAAK;MAC3C,IAAI,CAACV,YAAY,CAACe,KAAK,EAAEkD,wBAAwB,EAAE,OAAO,GAAG;MAC7D,MAAMC,cAAc,GAAGlE,YAAY,CAACe,KAAK,CAACkD,wBAAwB,CAACE,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAC1D,SAAS,KAAKA,SAAS,CAAC;MACvG,OAAOwD,cAAc,GAAGA,cAAc,CAACG,aAAa,GAAG,GAAG;IAC5D,CAAC;IAED,MAAMC,UAAU,GAAIC,IAAI,IAAK;MAC3B,OAAOA,IAAI,EAAEC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,IAAI,EAAE;IAC3C,CAAC;IAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;MAC9B;MACA9E,SAAS,CAAC+E,IAAI,CAAC,YAAY,CAAC;IAC9B,CAAC;IAED,MAAMC,aAAa,GAAIC,OAAO,IAAK;MACjCnE,WAAW,CAACM,KAAK,GAAG;QAClBL,SAAS,EAAEkE,OAAO,CAAClE,SAAS;QAC5BC,WAAW,EAAEiE,OAAO,CAACjE,WAAW;QAChCC,iBAAiB,EAAEoD,qBAAqB,CAACY,OAAO,CAAClE,SAAS,CAAC;QAC3DG,YAAY,EAAEmD,qBAAqB,CAACY,OAAO,CAAClE,SAAS;MACvD,CAAC;MACDF,oBAAoB,CAACO,KAAK,GAAG,IAAI;IACnC,CAAC;IAED,MAAM8D,aAAa,GAAGA,CAAA,KAAM;MAC1B;MACAlF,SAAS,CAACmF,OAAO,CAAC,MAAM,CAAC;MACzBtE,oBAAoB,CAACO,KAAK,GAAG,KAAK;IACpC,CAAC;IAEDtB,SAAS,CAAC,MAAM;MACd,IAAIK,kBAAkB,CAACiB,KAAK,EAAE;QAC5BD,QAAQ,CAAC,CAAC;MACZ;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}