{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"home-container\"\n};\nconst _hoisted_2 = {\n  class: \"user-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_AppNavbar = _resolveComponent(\"AppNavbar\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_AppNavbar), _createElementVNode(\"div\", _hoisted_1, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", null, \"欢迎来到首页!\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [$data.currentUser ? (_openBlock(), _createBlock(_component_el_tag, {\n    key: 0,\n    type: \"success\"\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" 当前用户ID: \" + _toDisplayString($data.currentUser.userid), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  })) : (_openBlock(), _createBlock(_component_el_tag, {\n    key: 1,\n    type: \"info\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\" 未登录 \")])),\n    _: 1 /* STABLE */\n  }))])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_AppNavbar","_createElementVNode","_hoisted_1","_hoisted_2","$data","currentUser","_createBlock","_component_el_tag","key","type","default","_withCtx","_createTextVNode","_toDisplayString","userid","_","_cache"],"sources":["D:\\code_new\\ecms\\ecmsvue\\src\\views\\Home.vue"],"sourcesContent":["<template>\n  <div>\n    <AppNavbar />\n    <div class=\"home-container\">\n      <h1>欢迎来到首页!</h1>\n      <div class=\"user-info\">\n        <el-tag type=\"success\" v-if=\"currentUser\">\n          当前用户ID: {{ currentUser.userid }}\n        </el-tag>\n        <el-tag type=\"info\" v-else>\n          未登录\n        </el-tag>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppNavbar from '../components/Navbar.vue';\n\nexport default {\n  name: 'HomePage',\n  components: {\n    AppNavbar\n  },\n  data() {\n    return {\n      currentUser: null\n    }\n  },\n  created() {\n    this.getCurrentUser();\n  },\n  methods: {\n    getCurrentUser() {\n      // 从 localStorage 获取用户信息\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        try {\n          const parsedUserData = JSON.parse(userData);\n          if (parsedUserData.success) {\n            this.currentUser = {\n              id: parsedUserData.userid, // 使用 userid 作为 id\n              token: parsedUserData.token,\n              username: parsedUserData.username\n            };\n          } else {\n            console.error('用户信息不正确:', parsedUserData);\n          }\n        } catch (e) {\n          console.error('解析用户信息失败:', e);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.home-container {\n  position: relative;\n  padding: 20px;\n}\n\n.user-info {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n}\n\n/* 如果需要响应式设计，可以添加媒体查询 */\n@media (max-width: 768px) {\n  .user-info {\n    position: static;\n    margin-top: 20px;\n    text-align: center;\n  }\n}\n</style>"],"mappings":";;EAGSA,KAAK,EAAC;AAAgB;;EAEpBA,KAAK,EAAC;AAAW;;;;uBAJ1BC,mBAAA,CAaM,cAZJC,YAAA,CAAaC,oBAAA,GACbC,mBAAA,CAUM,OAVNC,UAUM,G,0BATJD,mBAAA,CAAgB,YAAZ,SAAO,sBACXA,mBAAA,CAOM,OAPNE,UAOM,GANyBC,KAAA,CAAAC,WAAW,I,cAAxCC,YAAA,CAESC,iBAAA;IARjBC,GAAA;IAMgBC,IAAI,EAAC;;IANrBC,OAAA,EAAAC,QAAA,CAMkD,MAChC,CAPlBC,gBAAA,CAMkD,WAChC,GAAAC,gBAAA,CAAGT,KAAA,CAAAC,WAAW,CAACS,MAAM,iB;IAPvCC,CAAA;uBASQT,YAAA,CAESC,iBAAA;IAXjBC,GAAA;IASgBC,IAAI,EAAC;;IATrBC,OAAA,EAAAC,QAAA,CASmC,MAE3BK,MAAA,QAAAA,MAAA,OAXRJ,gBAAA,CASmC,OAE3B,E;IAXRG,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}