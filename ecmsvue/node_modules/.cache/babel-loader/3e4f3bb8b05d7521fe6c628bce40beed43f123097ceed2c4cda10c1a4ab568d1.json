{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nimport _imports_0 from '../assets/LOG.png';\nconst _hoisted_1 = {\n  ref: \"logoutScreen\",\n  class: \"logout-screen\"\n};\nconst _hoisted_2 = {\n  ref: \"userIcon\",\n  class: \"logo\"\n};\nconst _hoisted_3 = {\n  ref: \"logoutIcon\",\n  class: \"logout-icon\"\n};\nconst _hoisted_4 = {\n  ref: \"title\",\n  class: \"title\"\n};\nconst _hoisted_5 = {\n  ref: \"subtitle\",\n  class: \"subtitle\"\n};\nconst _hoisted_6 = {\n  ref: \"decoration\",\n  class: \"decoration\"\n};\nconst _hoisted_7 = {\n  ref: \"circle1\",\n  class: \"circle circle1\"\n};\nconst _hoisted_8 = {\n  ref: \"circle2\",\n  class: \"circle circle2\"\n};\nconst _hoisted_9 = {\n  ref: \"circle3\",\n  class: \"circle circle3\"\n};\nconst _hoisted_10 = {\n  ref: \"circle4\",\n  class: \"circle circle4\"\n};\nconst _hoisted_11 = {\n  ref: \"progressContainer\",\n  class: \"progress-container\"\n};\nconst _hoisted_12 = {\n  ref: \"progressBar\",\n  class: \"progress-bar\"\n};\nconst _hoisted_13 = {\n  ref: \"particles\",\n  class: \"particles\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 用户图标 \"), _createElementVNode(\"div\", _hoisted_2, _cache[0] || (_cache[0] = [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"东华大学\"\n  }, null, -1 /* HOISTED */)]), 512 /* NEED_PATCH */), _createCommentVNode(\" 登出图标 \"), _createElementVNode(\"div\", _hoisted_3, _cache[1] || (_cache[1] = [_createElementVNode(\"svg\", {\n    width: \"60\",\n    height: \"60\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"#F56C6C\",\n    \"stroke-width\": \"2\",\n    \"stroke-linecap\": \"round\",\n    \"stroke-linejoin\": \"round\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, [_createElementVNode(\"path\", {\n    d: \"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4\"\n  }), _createElementVNode(\"path\", {\n    d: \"M16 17l5-5-5-5\"\n  }), _createElementVNode(\"path\", {\n    d: \"M21 12H9\"\n  })], -1 /* HOISTED */)]), 512 /* NEED_PATCH */), _createCommentVNode(\" 标题文本 \"), _createElementVNode(\"h1\", _hoisted_4, \"正在退出系统\", 512 /* NEED_PATCH */), _createCommentVNode(\" 副标题/说明文本 \"), _createElementVNode(\"p\", _hoisted_5, \"感谢您使用智能商家管理系统\", 512 /* NEED_PATCH */), _createCommentVNode(\" 装饰元素 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_8, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_9, null, 512 /* NEED_PATCH */), _createElementVNode(\"div\", _hoisted_10, null, 512 /* NEED_PATCH */)], 512 /* NEED_PATCH */), _createCommentVNode(\" 进度条 \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, null, 512 /* NEED_PATCH */)], 512 /* NEED_PATCH */), _createCommentVNode(\" 粒子效果 \"), _createElementVNode(\"div\", _hoisted_13, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(20, i => {\n    return _createElementVNode(\"div\", {\n      key: i,\n      ref_for: true,\n      ref: el => $setup.particleRefs[i - 1] = el,\n      class: \"particle\"\n    });\n  }), 64 /* STABLE_FRAGMENT */))], 512 /* NEED_PATCH */)], 512 /* NEED_PATCH */);\n}","map":{"version":3,"names":["_imports_0","ref","class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_cache","src","alt","_hoisted_3","width","height","viewBox","fill","stroke","xmlns","d","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_Fragment","_renderList","i","key","ref_for","el","$setup","particleRefs"],"sources":["D:\\code_new\\ecms\\ecmsvue\\src\\animation\\OutScreen.vue"],"sourcesContent":["\r\n```vue\r\n<template>\r\n  <div ref=\"logoutScreen\" class=\"logout-screen\">\r\n    <!-- 用户图标 -->\r\n    <div ref=\"userIcon\" class=\"logo\">\r\n      <img src=\"../assets/LOG.png\" alt=\"东华大学\">\r\n    </div>\r\n\r\n    <!-- 登出图标 -->\r\n    <div ref=\"logoutIcon\" class=\"logout-icon\">\r\n      <svg width=\"60\" height=\"60\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#F56C6C\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path d=\"M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4\"></path>\r\n        <path d=\"M16 17l5-5-5-5\"></path>\r\n        <path d=\"M21 12H9\"></path>\r\n      </svg>\r\n    </div>\r\n\r\n    <!-- 标题文本 -->\r\n    <h1 ref=\"title\" class=\"title\">正在退出系统</h1>\r\n\r\n    <!-- 副标题/说明文本 -->\r\n    <p ref=\"subtitle\" class=\"subtitle\">感谢您使用智能商家管理系统</p>\r\n\r\n    <!-- 装饰元素 -->\r\n    <div ref=\"decoration\" class=\"decoration\">\r\n      <div ref=\"circle1\" class=\"circle circle1\"></div>\r\n      <div ref=\"circle2\" class=\"circle circle2\"></div>\r\n      <div ref=\"circle3\" class=\"circle circle3\"></div>\r\n      <div ref=\"circle4\" class=\"circle circle4\"></div>\r\n    </div>\r\n\r\n    <!-- 进度条 -->\r\n    <div ref=\"progressContainer\" class=\"progress-container\">\r\n      <div ref=\"progressBar\" class=\"progress-bar\"></div>\r\n    </div>\r\n\r\n    <!-- 粒子效果 -->\r\n    <div ref=\"particles\" class=\"particles\">\r\n      <div v-for=\"i in 20\" :key=\"i\" :ref=\"el => particleRefs[i-1] = el\" class=\"particle\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from 'vue';\r\nimport gsap from 'gsap';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'LogoutAnimation',\r\n  setup() {\r\n    const router = useRouter();\r\n    const logoutScreen = ref(null);\r\n    const userIcon = ref(null);\r\n    const logoutIcon = ref(null);\r\n    const title = ref(null);\r\n    const subtitle = ref(null);\r\n    const decoration = ref(null);\r\n    const circle1 = ref(null);\r\n    const circle2 = ref(null);\r\n    const circle3 = ref(null);\r\n    const circle4 = ref(null);\r\n    const progressContainer = ref(null);\r\n    const progressBar = ref(null);\r\n    const particles = ref(null);\r\n    const particleRefs = [];\r\n\r\n    onMounted(() => {\r\n      // 初始化粒子位置和样式\r\n      particleRefs.forEach((particle, index) => {\r\n        const size = Math.random() * 10 + 5;\r\n        const x = Math.random() * window.innerWidth;\r\n        const y = Math.random() * window.innerHeight;\r\n        const color = index % 3 === 0 ? '#409EFF' :\r\n            index % 3 === 1 ? '#67C23A' : '#F56C6C';\r\n\r\n        gsap.set(particle, {\r\n          width: `${size}px`,\r\n          height: `${size}px`,\r\n          left: `${x}px`,\r\n          top: `${y}px`,\r\n          backgroundColor: color,\r\n          opacity: 0,\r\n        });\r\n      });\r\n\r\n      // 创建主时间线\r\n      const tl = gsap.timeline({\r\n        onComplete: () => {\r\n          // 动画完成后跳转到登录页面\r\n          setTimeout(() => {\r\n            router.push('/login');\r\n          }, 500);\r\n        }\r\n      });\r\n\r\n      // 设置初始状态\r\n      gsap.set([userIcon.value, logoutIcon.value, title.value, subtitle.value], {\r\n        opacity: 0,\r\n        y: 20\r\n      });\r\n\r\n      gsap.set([circle1.value, circle2.value, circle3.value, circle4.value], {\r\n        scale: 0,\r\n        opacity: 0\r\n      });\r\n\r\n      gsap.set(progressBar.value, {\r\n        width: '0%'\r\n      });\r\n\r\n      // 第一阶段：装饰圆形展开\r\n      tl.to([circle1.value, circle2.value, circle3.value, circle4.value], {\r\n        scale: 1,\r\n        opacity: 0.7,\r\n        duration: 0.3,\r\n        stagger: 0.15,\r\n        ease: 'back.out(1.7)'\r\n      })\r\n\r\n          // 第二阶段：用户图标出现并下移\r\n          .to(userIcon.value, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.5,\r\n            ease: 'power2.out'\r\n          }, '-=0.4')\r\n\r\n          // 第三阶段：用户图标上移并淡出，同时登出图标入场\r\n          .to(userIcon.value, {\r\n            y: -40,\r\n            height: 10,\r\n            opacity: 0,\r\n            duration: 0.1,\r\n            ease: 'power1.in'\r\n          })\r\n          .to(logoutIcon.value, {\r\n            opacity: 1,\r\n            y: -10,\r\n            scale: 1.2,\r\n            duration: 0.2,\r\n            ease: 'back.out(1.7)'\r\n          }, '-=0.3')\r\n\r\n          // 在登出图标周围产生粒子爆发效果\r\n          .to(particleRefs, {\r\n            opacity: 1,\r\n            scale: 1,\r\n            stagger: 0.02,\r\n            duration: 0.2,\r\n            onComplete: () => {\r\n              // 粒子向各个方向飞散\r\n              particleRefs.forEach(particle => {\r\n                const xMove = (Math.random() - 0.5) * 300;\r\n                const yMove = (Math.random() - 0.5) * 300;\r\n\r\n                gsap.to(particle, {\r\n                  x: xMove,\r\n                  y: yMove,\r\n                  opacity: 0,\r\n                  scale: 0,\r\n                  duration: Math.random() * 1.5 + 0.5,\r\n                  ease: 'power2.out'\r\n                });\r\n              });\r\n            }\r\n          }, '-=0.2')\r\n\r\n          // 第四阶段：标题和副标题出现，登出图标缩小并稳定\r\n          .to(logoutIcon.value, {\r\n            scale: 1,\r\n            duration: 0.2,\r\n            ease: 'power1.out'\r\n          }, '-=0.2')\r\n          .to(title.value, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.25,\r\n            ease: 'power2.out'\r\n          }, '-=0.2')\r\n          .to(subtitle.value, {\r\n            opacity: 1,\r\n            y: 0,\r\n            duration: 0.3,\r\n            ease: 'power2.out'\r\n          }, '-=0.3')\r\n\r\n          // 第五阶段：进度条填充\r\n          .to(progressBar.value, {\r\n            width: '100%',\r\n            duration: 1,\r\n            ease: 'power1.inOut'\r\n          }, '-=0.2')\r\n\r\n          // 第六阶段：所有元素缩小并淡出\r\n          .to([logoutIcon.value, title.value, subtitle.value, circle1.value, circle2.value, circle3.value, circle4.value, progressContainer.value], {\r\n            opacity: 0,\r\n            scale: 0.8,\r\n            stagger: 0.05,\r\n            duration: 0.2,\r\n            ease: 'power2.in'\r\n          }, '+=0.3')\r\n\r\n          // 最后阶段：屏幕淡出\r\n          .to(logoutScreen.value, {\r\n            opacity: 0,\r\n            duration: 0.2\r\n          });\r\n    });\r\n\r\n    return {\r\n      logoutScreen,\r\n      userIcon,\r\n      logoutIcon,\r\n      title,\r\n      subtitle,\r\n      decoration,\r\n      circle1,\r\n      circle2,\r\n      circle3,\r\n      circle4,\r\n      progressContainer,\r\n      progressBar,\r\n      particles,\r\n      particleRefs\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.logout-screen {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f5f7fa;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n  overflow: hidden;\r\n}\r\n\r\n.user-icon, .logout-icon {\r\n  margin-bottom: 20px;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.title {\r\n  font-size: 36px;\r\n  color: #409EFF;\r\n  margin: 10px 0;\r\n  font-weight: 600;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.subtitle {\r\n  font-size: 18px;\r\n  color: #606266;\r\n  margin-bottom: 30px;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.decoration {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n.circle {\r\n  position: absolute;\r\n  border-radius: 50%;\r\n}\r\n\r\n.circle1 {\r\n  width: 180px;\r\n  height: 180px;\r\n  background-color: rgba(64, 158, 255, 0.1);\r\n  top: 20%;\r\n  left: 15%;\r\n}\r\n\r\n.logo {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.logo img {\r\n  width: 120px;\r\n  height: auto;\r\n}\r\n\r\n.circle2 {\r\n  width: 220px;\r\n  height: 220px;\r\n  background-color: rgba(103, 194, 58, 0.1);\r\n  bottom: 15%;\r\n  right: 10%;\r\n}\r\n\r\n.circle3 {\r\n  width: 120px;\r\n  height: 120px;\r\n  background-color: rgba(245, 108, 108, 0.1);\r\n  top: 40%;\r\n  right: 20%;\r\n}\r\n\r\n.circle4 {\r\n  width: 150px;\r\n  height: 150px;\r\n  background-color: rgba(230, 162, 60, 0.1);\r\n  bottom: 30%;\r\n  left: 25%;\r\n}\r\n\r\n.progress-container {\r\n  width: 300px;\r\n  height: 4px;\r\n  background-color: #ebeef5;\r\n  border-radius: 4px;\r\n  overflow: hidden;\r\n  margin-top: 30px;\r\n  position: relative;\r\n  z-index: 10;\r\n}\r\n\r\n.progress-bar {\r\n  height: 100%;\r\n  background-color: #F56C6C;\r\n  border-radius: 4px;\r\n  width: 0;\r\n}\r\n\r\n.particles {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  pointer-events: none;\r\n}\r\n\r\n.particle {\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  transform: scale(0);\r\n  opacity: 0;\r\n}\r\n</style>\r\n```\r\n"],"mappings":";OAMWA,UAAuB;;EAH3BC,GAAG,EAAC,cAAc;EAACC,KAAK,EAAC;;;EAEvBD,GAAG,EAAC,UAAU;EAACC,KAAK,EAAC;;;EAKrBD,GAAG,EAAC,YAAY;EAACC,KAAK,EAAC;;;EASxBD,GAAG,EAAC,OAAO;EAACC,KAAK,EAAC;;;EAGnBD,GAAG,EAAC,UAAU;EAACC,KAAK,EAAC;;;EAGnBD,GAAG,EAAC,YAAY;EAACC,KAAK,EAAC;;;EACrBD,GAAG,EAAC,SAAS;EAACC,KAAK,EAAC;;;EACpBD,GAAG,EAAC,SAAS;EAACC,KAAK,EAAC;;;EACpBD,GAAG,EAAC,SAAS;EAACC,KAAK,EAAC;;;EACpBD,GAAG,EAAC,SAAS;EAACC,KAAK,EAAC;;;EAItBD,GAAG,EAAC,mBAAmB;EAACC,KAAK,EAAC;;;EAC5BD,GAAG,EAAC,aAAa;EAACC,KAAK,EAAC;;;EAI1BD,GAAG,EAAC,WAAW;EAACC,KAAK,EAAC;;;uBAnC7BC,mBAAA,CAsCM,OAtCNC,UAsCM,GArCJC,mBAAA,UAAa,EACbC,mBAAA,CAEM,OAFNC,UAEM,EAAAC,MAAA,QAAAA,MAAA,OADJF,mBAAA,CAAwC;IAAnCG,GAAuB,EAAvBT,UAAuB;IAACU,GAAG,EAAC;uDAGnCL,mBAAA,UAAa,EACbC,mBAAA,CAMM,OANNK,UAMM,EAAAH,MAAA,QAAAA,MAAA,OALJF,mBAAA,CAIM;IAJDM,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACC,MAAM,EAAC,SAAS;IAAC,cAAY,EAAC,GAAG;IAAC,gBAAc,EAAC,OAAO;IAAC,iBAAe,EAAC,OAAO;IAACC,KAAK,EAAC;MACjJX,mBAAA,CAAsD;IAAhDY,CAAC,EAAC;EAAsC,IAC9CZ,mBAAA,CAAgC;IAA1BY,CAAC,EAAC;EAAgB,IACxBZ,mBAAA,CAA0B;IAApBY,CAAC,EAAC;EAAU,G,8CAItBb,mBAAA,UAAa,EACbC,mBAAA,CAAyC,MAAzCa,UAAyC,EAAX,QAAM,yBAEpCd,mBAAA,cAAiB,EACjBC,mBAAA,CAAoD,KAApDc,UAAoD,EAAjB,eAAa,yBAEhDf,mBAAA,UAAa,EACbC,mBAAA,CAKM,OALNe,UAKM,GAJJf,mBAAA,CAAgD,OAAhDgB,UAAgD,+BAChDhB,mBAAA,CAAgD,OAAhDiB,UAAgD,+BAChDjB,mBAAA,CAAgD,OAAhDkB,UAAgD,+BAChDlB,mBAAA,CAAgD,OAAhDmB,WAAgD,8B,yBAGlDpB,mBAAA,SAAY,EACZC,mBAAA,CAEM,OAFNoB,WAEM,GADJpB,mBAAA,CAAkD,OAAlDqB,WAAkD,8B,yBAGpDtB,mBAAA,UAAa,EACbC,mBAAA,CAEM,OAFNsB,WAEM,I,cADJzB,mBAAA,CAAyF0B,SAAA,QAvC/FC,WAAA,CAuCuB,EAAE,EAAPC,CAAC;WAAbzB,mBAAA,CAAyF;MAAnE0B,GAAG,EAAED,CAAC;MAvClCE,OAAA;MAuCqChC,GAAG,EAAEiC,EAAE,IAAIC,MAAA,CAAAC,YAAY,CAACL,CAAC,QAAMG,EAAE;MAAEhC,KAAK,EAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}