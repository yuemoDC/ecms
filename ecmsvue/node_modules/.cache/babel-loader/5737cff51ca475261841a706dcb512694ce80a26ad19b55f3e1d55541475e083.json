{"ast":null,"code":"import AppMerchantNavbar from '../components/MerchantNavbar.vue';\nexport default {\n  name: 'HomePage',\n  components: {\n    AppNavbar: AppMerchantNavbar\n  },\n  data() {\n    return {\n      currentUser: null\n    };\n  },\n  created() {\n    this.getCurrentUser();\n  },\n  methods: {\n    getCurrentUser() {\n      // 从 localStorage 获取用户信息\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        try {\n          const parsedUserData = JSON.parse(userData);\n          if (parsedUserData.success) {\n            this.currentUser = {\n              role: parsedUserData.role,\n              id: parsedUserData.userid,\n              // 使用 userid 作为 id\n              token: parsedUserData.token,\n              username: parsedUserData.username\n            };\n          } else {\n            console.error('用户信息不正确:', parsedUserData);\n          }\n        } catch (e) {\n          console.error('解析用户信息失败:', e);\n        }\n      }\n    }\n  }\n};","map":{"version":3,"names":["AppMerchantNavbar","name","components","AppNavbar","data","currentUser","created","getCurrentUser","methods","userData","localStorage","getItem","parsedUserData","JSON","parse","success","role","id","userid","token","username","console","error","e"],"sources":["D:\\code_new\\ecms\\ecmsvue\\src\\views\\Home.vue"],"sourcesContent":["<template>\n  <div>\n    <AppNavbar />\n    <div class=\"home-container\">\n      <h1>欢迎来到首页!</h1>\n      <div class=\"user-info\">\n        <el-tag type=\"success\" v-if=\"currentUser\">\n          你好{{ currentUser.role }}ID: {{ currentUser.id }}\n        </el-tag>\n        <el-tag type=\"info\" v-else>\n          未登录\n        </el-tag>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppMerchantNavbar from '../components/MerchantNavbar.vue';\n\nexport default {\n  name: 'HomePage',\n  components: {\n    AppNavbar: AppMerchantNavbar\n  },\n  data() {\n    return {\n      currentUser: null\n    }\n  },\n  created() {\n    this.getCurrentUser();\n  },\n  methods: {\n    getCurrentUser() {\n      // 从 localStorage 获取用户信息\n      const userData = localStorage.getItem('user');\n      if (userData) {\n        try {\n          const parsedUserData = JSON.parse(userData);\n          if (parsedUserData.success) {\n            this.currentUser = {\n              role: parsedUserData.role,\n              id: parsedUserData.userid, // 使用 userid 作为 id\n              token: parsedUserData.token,\n              username: parsedUserData.username\n            };\n          } else {\n            console.error('用户信息不正确:', parsedUserData);\n          }\n        } catch (e) {\n          console.error('解析用户信息失败:', e);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.home-container {\n  position: relative;\n  padding: 20px;\n}\n\n.user-info {\n  position: absolute;\n  top: 20px;\n  right: 20px;\n}\n\n/* 如果需要响应式设计，可以添加媒体查询 */\n@media (max-width: 768px) {\n  .user-info {\n    position: static;\n    margin-top: 20px;\n    text-align: center;\n  }\n}\n</style>"],"mappings":"AAkBA,OAAOA,iBAAgB,MAAO,kCAAkC;AAEhE,eAAe;EACbC,IAAI,EAAE,UAAU;EAChBC,UAAU,EAAE;IACVC,SAAS,EAAEH;EACb,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,WAAW,EAAE;IACf;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACPD,cAAcA,CAAA,EAAG;MACf;MACA,MAAME,QAAO,GAAIC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;MAC7C,IAAIF,QAAQ,EAAE;QACZ,IAAI;UACF,MAAMG,cAAa,GAAIC,IAAI,CAACC,KAAK,CAACL,QAAQ,CAAC;UAC3C,IAAIG,cAAc,CAACG,OAAO,EAAE;YAC1B,IAAI,CAACV,WAAU,GAAI;cACjBW,IAAI,EAAEJ,cAAc,CAACI,IAAI;cACzBC,EAAE,EAAEL,cAAc,CAACM,MAAM;cAAE;cAC3BC,KAAK,EAAEP,cAAc,CAACO,KAAK;cAC3BC,QAAQ,EAAER,cAAc,CAACQ;YAC3B,CAAC;UACH,OAAO;YACLC,OAAO,CAACC,KAAK,CAAC,UAAU,EAAEV,cAAc,CAAC;UAC3C;QACF,EAAE,OAAOW,CAAC,EAAE;UACVF,OAAO,CAACC,KAAK,CAAC,WAAW,EAAEC,CAAC,CAAC;QAC/B;MACF;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}