{"ast":null,"code":"import axios from 'axios';\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n        role: 'ADMIN' // 默认角色\n      },\n      loginUser: {\n        username: '',\n        password: ''\n      }\n    };\n  },\n  methods: {\n    registerUser() {\n      axios.post('http://localhost:8080/api/users/register', this.user).then(response => {\n        console.log('注册成功:', response.data);\n        this.resetForm(); // 清空表单\n      }).catch(error => {\n        console.error('注册失败:', error.response.data);\n      });\n    },\n    loginUser() {\n      axios.post('http://localhost:8080/api/users/login', this.loginUser).then(response => {\n        console.log('登录成功:', response.data);\n        // 可以在此处进行进一步操作，例如存储用户信息或重定向\n      }).catch(error => {\n        console.error('登录失败:', error.response.data);\n      });\n    },\n    resetForm() {\n      this.user = {\n        username: '',\n        password: '',\n        role: 'ADMIN'\n      };\n      this.loginUser = {\n        username: '',\n        password: ''\n      };\n    }\n  }\n};","map":{"version":3,"names":["axios","data","user","username","password","role","loginUser","methods","registerUser","post","then","response","console","log","resetForm","catch","error"],"sources":["E:\\ecms\\ecmsvue\\src\\views\\LoginComponent.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>用户注册</h1>\r\n    <el-form :model=\"user\" status-icon>\r\n      <el-form-item label=\"用户名\" :rules=\"[{ required: true, message: '请输入用户名', trigger: 'blur' }]\">\r\n        <el-input v-model=\"user.username\" placeholder=\"请输入用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" :rules=\"[{ required: true, message: '请输入密码', trigger: 'blur' }]\">\r\n        <el-input type=\"password\" v-model=\"user.password\" placeholder=\"请输入密码\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"角色\" :rules=\"[{ required: true, message: '请选择角色', trigger: 'change' }]\">\r\n        <el-select v-model=\"user.role\" placeholder=\"选择角色\">\r\n          <el-option label=\"管理员\" value=\"ADMIN\"></el-option>\r\n          <el-option label=\"商户\" value=\"MERCHANT\"></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-button type=\"primary\" @click=\"registerUser\">注册</el-button>\r\n    </el-form>\r\n\r\n    <h1>用户登录</h1>\r\n    <el-form :model=\"loginUser\" status-icon>\r\n      <el-form-item label=\"用户名\" :rules=\"[{ required: true, message: '请输入用户名', trigger: 'blur' }]\">\r\n        <el-input v-model=\"loginUser.username\" placeholder=\"请输入用户名\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"密码\" :rules=\"[{ required: true, message: '请输入密码', trigger: 'blur' }]\">\r\n        <el-input type=\"password\" v-model=\"loginUser.password\" placeholder=\"请输入密码\"></el-input>\r\n      </el-form-item>\r\n      <el-button type=\"primary\" @click=\"loginUser\">登录</el-button>\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: {\r\n        username: '',\r\n        password: '',\r\n        role: 'ADMIN' // 默认角色\r\n      },\r\n      loginUser: {\r\n        username: '',\r\n        password: ''\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    registerUser() {\r\n      axios.post('http://localhost:8080/api/users/register', this.user)\r\n          .then(response => {\r\n            console.log('注册成功:', response.data);\r\n            this.resetForm(); // 清空表单\r\n          })\r\n          .catch(error => {\r\n            console.error('注册失败:', error.response.data);\r\n          });\r\n    },\r\n    loginUser() {\r\n      axios.post('http://localhost:8080/api/users/login', this.loginUser)\r\n          .then(response => {\r\n            console.log('登录成功:', response.data);\r\n            // 可以在此处进行进一步操作，例如存储用户信息或重定向\r\n          })\r\n          .catch(error => {\r\n            console.error('登录失败:', error.response.data);\r\n          });\r\n    },\r\n    resetForm() {\r\n      this.user = {\r\n        username: '',\r\n        password: '',\r\n        role: 'ADMIN'\r\n      };\r\n      this.loginUser = {\r\n        username: '',\r\n        password: ''\r\n      };\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  margin-bottom: 20px;\r\n}\r\n</style>\r\n"],"mappings":"AAiCA,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,OAAM,CAAE;MAChB,CAAC;MACDC,SAAS,EAAE;QACTH,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EACDG,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACbR,KAAK,CAACS,IAAI,CAAC,0CAA0C,EAAE,IAAI,CAACP,IAAI,EAC3DQ,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,QAAQ,CAACV,IAAI,CAAC;QACnC,IAAI,CAACa,SAAS,CAAC,CAAC,EAAE;MACpB,CAAC,EACAC,KAAK,CAACC,KAAI,IAAK;QACdJ,OAAO,CAACI,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACL,QAAQ,CAACV,IAAI,CAAC;MAC7C,CAAC,CAAC;IACR,CAAC;IACDK,SAASA,CAAA,EAAG;MACVN,KAAK,CAACS,IAAI,CAAC,uCAAuC,EAAE,IAAI,CAACH,SAAS,EAC7DI,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,QAAQ,CAACV,IAAI,CAAC;QACnC;MACF,CAAC,EACAc,KAAK,CAACC,KAAI,IAAK;QACdJ,OAAO,CAACI,KAAK,CAAC,OAAO,EAAEA,KAAK,CAACL,QAAQ,CAACV,IAAI,CAAC;MAC7C,CAAC,CAAC;IACR,CAAC;IACDa,SAASA,CAAA,EAAG;MACV,IAAI,CAACZ,IAAG,GAAI;QACVC,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE;MACR,CAAC;MACD,IAAI,CAACC,SAAQ,GAAI;QACfH,QAAQ,EAAE,EAAE;QACZC,QAAQ,EAAE;MACZ,CAAC;IACH;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}